<div class="container questions-container">
  <h2 class="mb-4">Questions</h2>
  <form [formGroup]="questionForm" (ngSubmit)="submitForm()" class="questions-form">
    <div *ngIf="questionForm.controls['answers'].invalid && questionForm.controls['answers'].dirty" class="alert alert-danger mt-3">
      <i class="fas fa-exclamation-circle me-2"></i> Please answer all questions.
    </div>
    <div *ngFor="let question of allQuestions; let i = index" class="card mt-3">
      <div class="card-body">
        <h5 class="card-title mb-3">{{ question.question }}</h5>
        <div formArrayName="answers">
          <div *ngFor="let choice of question.choosesName; let j = index" class="form-check">
            <input class="form-check-input" type="radio" [id]="'choice'+i+j" formControlName="{{ i.toString() }}" [value]="choice.toString()">
            <label class="form-check-label" [for]="'choice'+i+j">{{ choice }}</label>
          </div>
        </div>
      </div>
    </div>
    <button type="submit" class="btn btn-primary mt-3">
      <i class="fas fa-check me-2"></i> Submit
    </button>
  </form>
</div>
