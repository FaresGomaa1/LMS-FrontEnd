(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{"2Kcl":function(e,t,i){"use strict";i("ZGaD")},"2Sde":function(e,t,i){"use strict";i("vKzE")},"6X/N":function(e,t,i){"use strict";i.r(t);var o=function(){var e,t,i,o,r,s,a,n,d,l,c,u,f,m,h,p,g,v,w,b,y,M,_,S,C,E,T,I,A,D,k,$=this,x=$._self._c;return $.isPreview?x("div",{staticClass:"view-preview-wrapper"},[x("div",{staticClass:"responsive-preview",class:{"dark-mode-menu":$.$root.isDarkMode}},[x("div",{staticClass:"back-formbuilder"},[x("a",{on:{click:$.goToBack}},[x("i-icon",{attrs:{icon:"arrow-left"}})],1)]),$._v(" "),x("div",{staticClass:"text-center responsive-band-wrapper"},[x("p",{staticClass:"preview-text"},[$._v($._s($.$t("formbuilderPreview.previewText")))]),$._v(" "),$.isPreview?x("div",{staticClass:"responsive-band"},[$.$root.isMobile?$._e():[x("i-radio",{attrs:{value:"desktop"},model:{value:$.preview.selectedDevice,callback:function(e){$.$set($.preview,"selectedDevice",e)},expression:"preview.selectedDevice"}},[x("i-icon",{attrs:{icon:"desktop"}}),$._v(" "),x("p",[$._v($._s($.$t("desktop")))])],1),$._v(" "),x("i-radio",{attrs:{value:"tablet devices"},model:{value:$.preview.selectedDevice,callback:function(e){$.$set($.preview,"selectedDevice",e)},expression:"preview.selectedDevice"}},[x("i-icon",{attrs:{icon:"tablet"}}),$._v(" "),x("p",[$._v($._s($.$t("tablet")))])],1),$._v(" "),x("i-radio",{attrs:{value:"mobile devices"},model:{value:$.preview.selectedDevice,callback:function(e){$.$set($.preview,"selectedDevice",e)},expression:"preview.selectedDevice"}},[x("i-icon",{attrs:{icon:"mobile"}}),$._v(" "),x("p",[$._v($._s($.$t("mobile")))])],1)]],2):$._e()]),$._v(" "),$.isPreview?x("div",{staticClass:"open-new-window"}):$._e()]),$._v(" "),x("div",{staticClass:"form-preview",class:$.preview.selectedDevice},[x("iframe",{staticClass:"form-preview-frame",attrs:{width:"100%",height:"100%",frameborder:"0",src:$.$route.path+"?localData=true"}})])]):x("div",{staticClass:"content",class:{"sidebar-open":$.sidebars.user.isOpen,"iframe-view":$.$root.isIframe,flex:$.isFlex,"card-design":$.isCardDesign,"welcome-page":!0===$.showWelcomePage,"thankyou-page":!0===$.showThankYouPage,cover:null===(e=$.formModel)||void 0===e||null===(t=e.cover)||void 0===t?void 0:t.isEnabled,logo:null===(i=$.formModel)||void 0===i||null===(o=i.logo)||void 0===o?void 0:o.isEnabled,timer:null===(r=$.formModel)||void 0===r||null===(s=r.timer)||void 0===s?void 0:s.isEnabled,"logo-fix":"logo-fixed"===(null===(a=$.formModel)||void 0===a||null===(n=a.logo)||void 0===n?void 0:n.sticky)},attrs:{id:"form-content"}},[$.$route.query.ref?x("div",{staticClass:"back-button-wrapper"},[x("i-button",{staticClass:"back-button",attrs:{"prepend-icon":"arrow-left",naked:""},on:{click:$.onBackClick}},[$._v($._s($.$t("back")))])],1):$._e(),$._v(" "),null!==(d=$.formModel)&&void 0!==d&&d.baseSettings&&$.formModel.baseSettings.isEnabledSaveAsDraft&&$.isAnswerableForm&&!$.isPreview&&!$.showWelcomePage&&!$.showThankYouPage?x("SaveAsDraft",{ref:"answerDraft",attrs:{formModel:$.formModel,captcha:$.captcha,currentPageIndex:$.currentPageIndex,currentQuestion:$.currentQuestion},on:{resetServerSideError:function(e){$.hasServerSideError=!1},answerSaveErrorManager:$.answerSaveErrorManager,setDraftId:$.setDraftId,setCaptcha:$.setCaptchaOnSubmitWithCallback,resetCaptcha:$.resetCaptcha}}):$._e(),$._v(" "),x("div",[$.showPaginationForPageBreak?x("PageBreakPagination",{attrs:{length:$.pagesWithQuestions.length,activeIndex:$.currentPageIndex}}):$._e(),$._v(" "),x("div",{staticClass:"general-content full-width",class:{embedded:$.$root.isIframe}},[null!==$.formModel?[x("transition",{attrs:{name:"fade",mode:"out-in"},on:{afterLeave:function(e){$.isFlex=!0===$.showThankYouPage||!0===$.showWelcomePage||!0===$.publishDateSettingsEnabled}}},[!0===$.showWelcomePage?x("div",{key:"welcome-page",staticClass:"form-view-content"},[x("WelcomePage",{attrs:{formModel:$.formModel,welcomePageSettings:$.formModel.welcomePageSettings},on:{clicked:$.onClickChild}})],1):!0===$.showThankYouPage?x("div",{key:"thankyou-page",staticClass:"form-view-content"},[x("ThankYouPage",{attrs:{formModel:$.formModel,resultData:$.thankYouPageData}})],1):x("div",{key:"actual-form",staticClass:"form view",class:{rtl:$.formModel.baseSettings&&$.formModel.baseSettings.isRtl}},[""!==$.infoMsg?x("i-alert",{attrs:{type:"info",sticky:!0}},[x("span",{domProps:{innerHTML:$._s($.infoMsg)}})]):$._e(),$._v(" "),x("div",{staticClass:"form-body",class:{"alert-form":""!==$.infoMsg}},[x("i-form",{ref:"form",attrs:{formModel:$.formModel,scrollToQuestionId:$.scrollToQuestionId,invalidQuestions:$.invalidQuestions}},[$.hasServerSideError?x("i-alert",{staticClass:"error-alert-view",attrs:{type:"error"}},[x("ol",$._l($.error.errors,(function(e,t){return x("li",{key:t},[$._v("\n\t\t\t\t\t\t\t\t\t\t\t"+$._s($.serverSideErrorLocalization(e))+"\n\t\t\t\t\t\t\t\t\t\t")])})),0),$._v(" "),302===$.error.errorCode?x("FormViewQuotaExceeded",{staticClass:"form-view-content",attrs:{formError:$.error,forAnswer:!0}}):$.error.errors?$._e():x("span",[$._v("\n\t\t\t\t\t\t\t\t\t\t"+$._s($.$t("notification.anErrorOccurred",{moreDetail:$.$t("notification.traceCode")+": FV0001"}))+"\n\t\t\t\t\t\t\t\t\t")]),$._v(" "),x("div",{staticClass:"close-alert",on:{click:$.alertClose}},[x("i-icon",{attrs:{icon:"times"}})],1)],1):$._e(),$._v(" "),!1===$.isFormLoading?[null!==(l=$.formModel)&&void 0!==l&&null!==(c=l.cover)&&void 0!==c&&c.isEnabled||null!==(u=$.formModel)&&void 0!==u&&null!==(f=u.logo)&&void 0!==f&&f.isEnabled?x("div",{staticClass:"logo-cover-wrapper",class:{sticky:(null===(m=$.formModel)||void 0===m||null===(h=m.logo)||void 0===h?void 0:h.isEnabled)&&"logo-fixed"===(null===(p=$.formModel)||void 0===p||null===(g=p.logo)||void 0===g?void 0:g.sticky),logo:null===(v=$.formModel)||void 0===v||null===(w=v.logo)||void 0===w?void 0:w.isEnabled,cover:null===(b=$.formModel)||void 0===b||null===(y=b.cover)||void 0===y?void 0:y.isEnabled}},[$.showWelcomePage||$.showThankYouPage?$._e():[null!==(M=$.formModel)&&void 0!==M&&null!==(_=M.cover)&&void 0!==_&&_.isEnabled?x("componentinputcover",{attrs:{form:$.formModel}}):$._e(),$._v(" "),null!==(S=$.formModel)&&void 0!==S&&null!==(C=S.logo)&&void 0!==C&&C.isEnabled?x("componentinputlogo",{attrs:{form:$.formModel}}):$._e()]],2):$._e(),$._v(" "),$.pagesWithQuestions[$.currentPageIndex]?x("div",{staticClass:"big-question-wrapper"},[null!==(E=$.formModel)&&void 0!==E&&null!==(T=E.timer)&&void 0!==T&&T.isEnabled?x("componentinputtimer",{class:{"sticky-logo":(null===(I=$.formModel)||void 0===I||null===(A=I.logo)||void 0===A?void 0:A.isEnabled)&&"logo-fixed"===(null===(D=$.formModel)||void 0===D||null===(k=D.logo)||void 0===k?void 0:k.sticky)},attrs:{isSubmitButtonInActive:$.submitButtonLoading||!!$.disableSubmitButton,form:$.formModel},on:{setCompleteSeconds:$.setCompleteSeconds,timeExpired:$.timeExpired}}):$._e(),$._v(" "),$.isCardDesign||0!==$.currentPageIndex?$._e():x("FormHeader",{attrs:{formModel:$.baseFormData}}),$._v(" "),$._l($.renderedQuestions,(function(e,t){return $.showQuestion(e)?x("QuestionView",{key:e._id,class:$.isCardDesign&&{top:e.displayOrder<$.currentQuestion.questionModel.displayOrder&&!$.isCardDesignFadeIn,current:e.displayOrder===$.currentQuestion.questionModel.displayOrder&&!$.isCardDesignFadeIn,bottom:e.displayOrder>$.currentQuestion.questionModel.displayOrder&&!$.isCardDesignFadeIn,"top-opacity":e.displayOrder<$.currentQuestion.questionModel.displayOrder&&$.isCardDesignFadeIn,"current-opacity":e.displayOrder===$.currentQuestion.questionModel.displayOrder&&$.isCardDesignFadeIn,"bottom-opacity":e.displayOrder>$.currentQuestion.questionModel.displayOrder&&$.isCardDesignFadeIn,transparent:$.submitButtonVisibleForCardDesign},attrs:{questionModel:e,hideQuestionNumber:$.formModel.baseSettings.hideQuestionNumber,type:"view",id:e._id,index:t,form:$.baseFormData,answerMap:$.formData.answerMap}},[x("componentinput"+e.questionType.toLowerCase(),{ref:"questions",refInFor:!0,tag:"component",staticClass:"question-wrapper",class:{required:e.isRequired},attrs:{questionModel:e,formModel:$.formModel,"data-order":e.viewHelpers&&e.viewHelpers.questionNumber,readonly:e.readonly,setAppVueVariable:$.setAppVueVariable},on:{onSubmit:$.onSubmit,onVerify:$.onVerify,onExpired:$.onExpired,onInput:$.onEveryQuestionInput,onFocus:$.onFocusQuestion,runFormValidation:$.onRunFormValidation,nextQuestion:$.scrollToNextQuestion,onMounted:$.onQuestionMounted}}),$._v(" "),$.isCardDesign&&$.formModel.questions?[x("div",{staticClass:"card-design-next-wrapper"},[$.isBackButton?x("div",{staticClass:"card-design-back-button",class:{active:!$.submitButtonVisibleForCardDesign}},[x("i-button",{class:{"padding-zero":""===$.$t("back")},attrs:{appendIcon:"angle-left",regular:"",naked:"",disabled:0===e.displayOrder},on:{click:$.scrollToPrevQuestion}},[x("p",{domProps:{innerHTML:$._s($.$t("back"))}})])],1):x("div"),$._v(" "),x("div",{staticClass:"card-design-next-button",class:{active:$.showQuestionBackAndNextButton(e)}},[$.$root.isMobile?$._e():x("span",{domProps:{innerHTML:$._s($.$t("formbuilder.viewType.pressEnter"))}}),$._v(" "),x("i-button",{class:{"no-margin naked-next":""===$.$t("next")},attrs:{appendIcon:"check",regular:""},on:{click:$.validateAndNextQuestion}},[x("p",{domProps:{innerHTML:$._s($.$t("next"))}})])],1)])]:$._e()],2):$._e()}))],2):$._e(),$._v(" "),$.formModel.directMessageSettings&&$.formModel.directMessageSettings.whatsapp&&$.formModel.directMessageSettings.whatsapp.isEnable?x("WhatsappDmComponent",{attrs:{dmData:$.formModel.directMessageSettings.whatsapp}}):$._e(),$._v(" "),$.isCardDesign?$._e():x("div",{staticClass:"question buttons",class:$.formModel.submitButton.align},[1!=$.pagesWithQuestions.length&&$.formModel.questions?[x("PageBreakButtons",{attrs:{currentPageIndex:$.currentPageIndex,length:$.pagesWithQuestions.length},on:{goToPrevPage:$.goToPrevPage,goToNextPage:$.validateAndNextPage}})]:$._e(),$._v(" "),$.formModel.questions&&$.isAnswerableForm&&!$.isCardDesign?x("FormViewCaptcha",{ref:"formviewcaptcha",attrs:{formModel:$.formModel,captcha:$.captcha},on:{onVerify:$.onVerify,onExpired:$.onExpired}}):$._e(),$._v(" "),$.formModel.questions&&$.isAnswerableForm&&!$.isCardDesign&&$.pagesWithQuestions.length===$.currentPageIndex+1?x("componentinputsubmitbutton",{ref:"submitButton",tag:"component",attrs:{currentPageIndex:$.currentPageIndex,length:$.pagesWithQuestions.length,pagesWithQuestions:$.pagesWithQuestions,formModel:$.formModel,isLoading:$.submitButtonLoading||!!$.disableSubmitButton,disabled:$.disableSubmitButton,captcha:$.captcha},on:{goToPrevPage:$.goToPrevPage,onMounted:$.onSubmitButtonMounted,onSubmit:$.onSubmit}}):$._e()],2)]:$._e()],2),$._v(" "),$.isCardDesign&&$.formModel.questions&&$.isAnswerableForm?x("FormViewCaptcha",{ref:"formviewcaptcha",attrs:{formModel:$.formModel,captcha:$.captcha},on:{onVerify:$.onVerify,onExpired:$.onExpired}}):$._e(),$._v(" "),$.isCardDesign&&$.formModel.questions&&$.isAnswerableForm?x("componentinputsubmitbutton",{ref:"submitButton",tag:"component",attrs:{formModel:$.formModel,visibleForCardDesign:$.submitButtonVisibleForCardDesign,isLoading:$.submitButtonLoading||!!$.disableSubmitButton,disabled:$.disableSubmitButton,captcha:$.captcha},on:{onSubmit:$.onSubmit}}):$._e(),$._v(" "),x("i-popup",{attrs:{closingDisallow:""},model:{value:$.verifyingLocation,callback:function(e){$.verifyingLocation=e},expression:"verifyingLocation"}},[x("div",{staticClass:"location-popup"},[x("span",{domProps:{innerHTML:$._s($.$t("locationVerifying"))}}),$._v(" "),x("i-preloader")],1)]),$._v(" "),x("i-popup",{staticStyle:{"backdrop-filter":"blur(12px)"},attrs:{closingDisallow:!0},model:{value:$.formData.isAdultContent,callback:function(e){$.$set($.formData,"isAdultContent",e)},expression:"formData.isAdultContent"}},[x("div",{staticClass:"location-popup",attrs:{id:"adult-content-popup"}},[x("span",{staticClass:"adult-icon"},[$._v("+18")]),$._v(" "),x("span",{staticClass:"adult-title"},[$._v($._s($.$t("formbuilder.adultAlert.adultAlertTitle")))]),$._v(" "),x("p",{staticClass:"adult-text",domProps:{innerHTML:$._s($.$t("formbuilder.adultAlert.adultAlertText"))}}),$._v(" "),x("a",{staticClass:"adult-button-white adult-button",on:{click:function(e){$.formData.isAdultContent=!1}}},[$._v($._s($.$t("formbuilder.adultAlert.adultAlertButtonText1")))]),$._v(" "),x("a",{staticClass:"adult-button-black adult-button",attrs:{href:"https://forms.app/"}},[$._v($._s($.$t("formbuilder.adultAlert.adultAlertButtonText2")))])])]),$._v(" "),$.isCardDesign?x("CardDesignFooter",{directives:[{name:"show",rawName:"v-show",value:!$.$root.isMobileKeyboardOpen&&0===$.$root.openPopupCount,expression:"!$root.isMobileKeyboardOpen && $root.openPopupCount === 0"}],attrs:{formModel:$.formModel,cardDesign:$.cardDesign,cardDesignPercent:$.cardDesignPercent,lastQuestionNumber:$.lastQuestionNumber,prevQuestion:$.scrollToPrevQuestion,nextQuestion:$.scrollToNextQuestion}}):$._e()],1),$._v(" "),!$.formModel.baseSettings||$.formModel.baseSettings.removeBranding||$.isCardDesign?$._e():x("FormBuilderBrandFooter",{attrs:{utmMedium:$.isLocalData?"FormPreview":"FormView_list_view",utmCampaign:$.formModel._id}})],1)])]:[x("div",{staticClass:"intermediate-page-wrapper"},[$.formErrorData.removeBranding?$._e():x("div",{staticClass:"brand-logo"},[x("a",{staticClass:"powered",attrs:{target:"_blank",href:"https://forms.app"}},[x("img",{attrs:{src:$.logo,alt:"forms.app"}})])]),$._v(" "),x("div",{staticClass:"intermediate-page-layout"},[$.formError&&403===$.formError.status?[$.publishDateSettingsEnabled?x("FormViewQuotaExceeded",{staticClass:"form-view-content",attrs:{src:"/static/img/form-disable.png",formError:$.formError.data}}):$.formError.data?[void 0===$.formError.data.isOwner?x("FormViewInaccessible",{attrs:{src:"/static/img/form-disable.png",text:$.$t("quotaExeeded.formViewGeneric")}}):$.formError.data.isOwner?x("FormViewInaccessible",{attrs:{src:"/static/img/form-disable.png",text:$.$t("quotaExeeded.formViewOwner")}}):x("FormViewInaccessible",{attrs:{src:"/static/img/form-disable.png",text:$.$t("quotaExeeded.formViewGeneric")}})]:x("FormViewInaccessible",{attrs:{src:"/static/img/form-disable.png",text:$.$t("quotaExeeded.formViewGeneric")}})]:$.formError&&401===$.formError.status?[x("FormViewInaccessible",{attrs:{src:"/static/img/form-shared.png",text:$.formError.data.message}})]:$.formError&&504===$.formError.status?[x("FormViewInaccessible",{attrs:{src:"/static/img/form-shared.png",text:$.$t("serverTimeout")}})]:$.formError&&$.formError.status>500?[x("FormViewInaccessible",{attrs:{src:"/static/img/form-shared.png",text:$.$t("notification.anErrorOccurred")}})]:[x("FormViewInaccessible",{attrs:{src:"/static/img/form-found.png",text:$.$t("formNotFound")}})],$._v(" "),$.formErrorData.removeBranding?$._e():x("div",{staticClass:"brand-button"},[x("a",{staticClass:"create-own-btn",attrs:{href:$.mainBaseUrl+"/myforms",target:"_blank"}},[x("span",[x("i-icon",{attrs:{icon:"plus"}})],1),$._v(" "),x("p",[$._v($._s($.$t("createYourOwnForm")))])])])],2)])]],2)],1)],1)};o._withStripped=!0;var r=i("yXPU"),s=i.n(r),a=(i("4mDm"),i("5s+n"),i("3bBZ"),i("rB9j"),i("UxlC"),i("yq1k"),i("JTJg"),i("luLf")),n=i("J9Y1"),d=i.n(n),l=(i("JfAA"),{"google-analytics":{init:function(e,t){window["ga-disable-".concat(e)]=!1,window.ga&&(window.ga("create",e,"auto",t._id),window.ga("".concat(t._id,".send"),"pageview",location.pathname))},remove:function(e,t){window["ga-disable-".concat(e)]=!0},callback:function(e,t,i,o){window.ga&&window.ga("".concat(i._id,".send"),{hitType:"event",eventCategory:"Form",eventAction:t||"submission",eventLabel:i.title,value:o,nonInteraction:!0})}},"google-analytics-4":{init:c("formsapp-google-analytics-4").init,remove:c("formsapp-google-analytics-4").remove,callback:c("formsapp-google-analytics-4").callback},"google-conversion":{init:c("formsapp-google-ads").init,remove:c("formsapp-google-ads").remove,callback:c("formsapp-google-ads").callback}});function c(e){return{init:function(t,i){var o=(e,t)=>{var i="id="+t.split("/")[0];if(!document.getElementById(e)){var o=document.getElementsByTagName("head")[0],r=document.createElement("script");r.src="https://www.googletagmanager.com/gtag/js?"+i,r.async=!0,r.defer=!0,r.id=e,r.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag||(window.gtag=function(){window.dataLayer.push(arguments)}),window.gtag("js",new Date),window.gtag("config",t)},o.appendChild(r)}};parent&&parent.postMessage&&window!==window.parent?parent.postMessage("formsapp-addScript:"+JSON.stringify({script:o.toString(),params:[e,t]}),"*"):o(e,t)},remove:function(e,t){},callback:function(e,t,i){var o=(e,t)=>{window.gtag&&window.gtag("event",t||"conversion",{send_to:e,event_callback:()=>{}})};parent&&parent.postMessage&&window!==window.parent?parent.postMessage("formsapp-addScript:"+JSON.stringify({script:o.toString(),params:[e,t]}),"*"):o(e,t)}}}var u=i("ezhA"),f=i("mckT"),m=i("CMeD"),h=i("Y8gT"),p=i("NRfZ"),g=i("tL2h"),v=i("lhJi"),w=i("K/kh"),b=i("sERy"),y=i("ttAG"),M=i("kdFr"),_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"other-page intermediate-page"},[e.forAnswer?[t("div",{staticClass:"intermediate-text"},[e.formError.wysiwyg&&""!==e.formError.wysiwyg?t("h3",[e._v(e._s(e.formError.wysiwyg))]):t("h3",[e._v(e._s(e.errorEnums("quota."+e.formError.errorCode)))])]),e._v(" "),e.showRedirectButton?t("div",[t("i-button",{on:{click:e.onClickButton}},[e._v(e._s(e.redirectButtonText))])],1):e._e()]:[e.messageTitle?t("div",[t("div",{staticClass:"count-form",domProps:{innerHTML:e._s(e.messageTitle)}}),e._v(" "),t("br")]):e._e(),e._v(" "),e.formError.remainingSeconds||e.formError.wysiwyg&&e.bbcode.cleanTextFromHtml(e.formError.wysiwyg)!==e.defaultUnpublishText?e._e():t("img",{staticClass:"intermediate",attrs:{src:e.src,alt:""}}),e._v(" "),t("div",{staticClass:"intermediate-text",domProps:{innerHTML:e._s(e.formError.wysiwyg&&""!==e.formError.wysiwyg?e.formError.wysiwyg:e.errorEnums("quota."+e.formError.errorCode))}}),e._v(" "),e.showRedirectButton?t("div",{staticClass:"redirect-button"},[t("i-button",{on:{click:e.onClickButton}},[e._v(e._s(e.redirectButtonText))])],1):e._e()]],2)};_._withStripped=!0;i("SYor"),i("4l63");var S=i("RuLz"),C=i("7flI"),E={name:"FormViewQuotaExceeded",props:{formError:Object,forAnswer:Boolean,src:""},data:function(){return{messageTitle:void 0,showRedirectButton:!1,redirectButtonText:this.$t("continue"),errorEnums:a.a,defaultUnpublishText:this.$t("formSettings.unPublishDateSettings.thisFormNoMoreAvailable"),bbcode:S.b}},mounted:function(){if(this.formError.redirectUrl&&(""!==this.formError.redirectUrl.trim()&&(this.showRedirectButton=!0,this.formError.redirectButtonText))){var e=this.formError.redirectButtonText.trim();""!==e&&(this.redirectButtonText=e)}if(this.formError.designSettings&&this.formError.remainingSeconds){var t=C.a.generateFormDesignRule(this.formError.designSettings,this.formError._id||this.formError.formId,this.formError.formTempFiles);y.default.injectCss(t)}if(this.formError.remainingSeconds){var i=parseInt(this.formError.remainingSeconds);setInterval(()=>{var e=this.secondToDateDetails(i--);i<1?this.$router.go(this.$router.currentRoute):(this.messageTitle="",e.days>0&&(this.messageTitle+='<div class="count-item">'+e.days+"<span>"+this.$t("days")+"</span></div>"),e.hours>0&&(this.messageTitle+='<div class="count-item">'+e.hours+"<span>"+this.$t("hours")+"</span> </div>"),e.minutes>0&&(this.messageTitle+='<div class="count-item">'+e.minutes+"<span>"+this.$t("minutes")+"</span> </div>"),this.messageTitle+='<div class="count-item">'+e.seconds+"<span>"+this.$t("seconds")+"</span> </div>")},1e3)}this.formError.wysiwyg&&(this.formError.wysiwyg=S.b.bbcodeToHtml(this.formError.wysiwyg,this.formError.formId))},methods:{onClickButton(){this.$router.push({name:"ExternalUrlRedirect",query:{url:this.formError.redirectUrl}})},secondToDateDetails(e){var t=Math.floor(e/86400);e-=3600*t*24;var i=Math.floor(e/3600);e-=3600*i;var o=Math.floor(e/60);return{days:t,hours:i,minutes:o,seconds:e-=60*o}}},computed:{isShowFormDisableImage(){return!this.formError.wysiwyg||!this.formError.wysiwyg.includes("iframe")&&!this.formError.wysiwyg.includes("img")}}},T=(i("UgpZ"),i("KHd+")),I=Object(T.a)(E,_,[],!1,null,"46945598",null).exports,A=function(){var e=this._self._c;return e("div",{staticClass:"intermediate-page"},[e("div",{staticClass:"intermediate-elements"},[e("img",{attrs:{src:this.src,alt:"Form Inaccessible"}}),this._v(" "),e("h3",{staticClass:"formview-inaccessible-text",domProps:{innerHTML:this._s(this.text)}})])])};A._withStripped=!0;var D={name:"FormViewInaccessible",props:["src","text"]},k=(i("6zM3"),Object(T.a)(D,A,[],!1,null,"27bfa60a",null).exports),$=i("j2RM"),x=i("NcpN"),P=function(){return(0,this._self._c)("i-button",{staticClass:"whatsapp-icon",class:{"no-margin":!this.$root.isMobile},attrs:{naked:"",href:this.redirectLink,target:"_blank","prepend-icon":"whatsapp",brands:""}})};P._withStripped=!0;var q={name:"Whatsapp",props:{icon:String,dmData:{}},data:function(){return{redirectLink:""}},created:function(){this.redirectLink="https://api.whatsapp.com/send?phone="+this.dmData.phone+"&text="+window.location.href}},F=(i("2Sde"),Object(T.a)(q,P,[],!1,null,"31bdd960",null).exports),L=i("4v4t"),Q=i("kFX+"),B=i("mSNy"),O={facebook:{init:function(e){var t=e.locale||"en_US",i=document.getElementsByTagName("head")[0],o=document.createElement("script");o.src="https://connect.facebook.net/"+t+"/sdk/xfbml.customerchat.js",o.async=!0,o.defer=!0,o.id="facebook-jssdk",i.appendChild(o),window.fbAsyncInit=function(){var t=document.getElementsByTagName("body")[0],i=document.createElement("div");i.classList.add("fb-customerchat"),i.setAttribute("page_id",e.pageId),e.color&&i.setAttribute("theme_color",e.color),t.appendChild(i),window.FB.init({appId:e.appId,autoLogAppEvents:!0,xfbml:!0,version:"v3.2"})}}}},V={componentinputcover:()=>Promise.all([i.e(103),i.e(274),i.e(58),i.e(25),i.e(44),i.e(196),i.e(143)]).then(i.bind(null,"HOV5")),componentinputlogo:()=>Promise.all([i.e(103),i.e(274),i.e(58),i.e(25),i.e(44),i.e(196),i.e(143)]).then(i.bind(null,"cEvr")),componentinputtimer:()=>Promise.all([i.e(103),i.e(274),i.e(58),i.e(25),i.e(44),i.e(196),i.e(143)]).then(i.bind(null,"KJS/"))},R=function(){var e,t=this,i=t._self._c;return null!==(e=t.formModel)&&void 0!==e&&e.baseSettings&&t.formModel.baseSettings.isEnabledSaveAsDraft?i("div",{staticClass:"save-as-draft-wrapper"},[i("div",{staticClass:"save-as-draft"},[i("a",t._g({staticClass:"save-as-draft-btn",class:{saving:t.loading,saved:!t.inputAnyQuestion,animation:t.startAnimation},attrs:{id:"save-as-draft-btn"}},t.isOnClickOpenDropdown?{click:t.saveDraft}:{click:t.openSaveAsDropdown}),[t.startAnimation?i("span",[t._v("\n\t\t\t\t"+t._s(t.animationText)+"\n\t\t\t")]):t._e(),t._v(" "),t.loading?i("i-preloader"):i("i-icon",{attrs:{solid:"cloud-upload"===t.saveIcon,icon:t.saveIcon}})],1)]),t._v(" "),i("i-dropdown",{ref:"saveAsDraftDropdown",staticClass:"save-as-draft-dropdown",class:{"save-as-draft-dropdown-get-link":t.isSaved&&t.loading,"save-as-draft-dropdown-manual-close":t.loading},attrs:{position:"fixed",closeOnSelect:!1,activator:"#save-as-draft-btn",openManually:""},on:{input:t.onDropdownInput}},[t.isSaved||t.loading?!t.draftId&&!t.isSaved||t.loading?t._e():[i("div",{staticClass:"back-wrapper"},[i("a",{staticClass:"arrow-back-full",on:{click:function(e){t.isSaved=!1}}},[i("i-icon",{attrs:{icon:"arrow-left"}})],1),t._v(" "),i("span",[t._v(" "+t._s(t.$t("back")))])]),t._v(" "),i("div",{staticClass:"get-link-tab"},[i("div",{staticClass:"link-viewer"},[i("div",{staticClass:"link-box",on:{click:t.copyUrl}},[i("div",{staticClass:"link"},[t._v(t._s(t.draftedLink)+" ")])]),t._v(" "),i("div",{staticClass:"copy-icon",on:{click:t.copyUrl}},[i("i-icon",{attrs:{icon:t.copyIcon}})],1)])]),t._v(" "),i("div",{staticClass:"share-social-wrapper draft-share-platform"},[i("span",[t._v(" "+t._s(t.$t("saveAsDraft.shareLink")))]),t._v(" "),i("ShareOnPlatforms",{attrs:{mailModel:t.shareMailModel,url:t.draftedLink,noViewPlatforms:t.noViewPlatforms}})],1)]:[i("div",{staticClass:"save-as-draft-login"},[t.draftId?i("i-button",{staticClass:"save-as-draft-get-link-btn save-as-draft-btn-inner",attrs:{prependIcon:"link"},on:{click:t.getLink}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("saveAsDraft.viewLink"))+"\n\t\t\t\t")]):[i("span",{staticClass:"header-first-txt"},[t._v(" "+t._s(t.$t("saveAsDraft.saveAsDraftContinueLater")))]),t._v(" "),i("i-button",{staticClass:"save-as-draft-get-link-btn save-as-draft-btn-inner",attrs:{prependIcon:"link"},on:{click:t.saveDraft}},[t._v("\n\t\t\t\t\t\t"+t._s(t.$t("saveAsDraft.getLink"))+"\n\t\t\t\t\t")])],t._v(" "),!t.isAuthenticated&&t.formModel.baseSettings.isEnabledSignupForSaveAsDraft?[i("p",[t._v(t._s(t.$t("conditions.or")))]),t._v(" "),i("span",{staticClass:"header-first-txt"},[t._v(" "+t._s(t.$t("saveAsDraft.saveAsDraftContinueAccount")))]),t._v(" "),i("i-button",{staticClass:"save-as-draft-signup save-as-draft-btn-inner",attrs:{prependIcon:"envelope",outline:""},on:{click:t.login}},[t._v(t._s(t.$t("auth.signUp")))])]:t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!(t.draftId&&!t.inputAnyQuestion),expression:"!(draftId && !inputAnyQuestion)"}],attrs:{id:"save-as-draft-captcha"}})],2)]],2)],1):t._e()};R._withStripped=!0;var N={name:"SaveAsDraft",components:{ShareOnPlatforms:i("L1wt").a},props:{formModel:Object,captcha:Object,currentPageIndex:Number,currentQuestion:Object},data:function(){return{loading:!1,isSaved:!1,draftId:null,animationCount:0,inputAnyQuestion:!1,dropDownTriggerEvent:null,shareMailModel:null,noViewPlatforms:["facebook","linkedln","twitter"],isAuthenticated:this.$auth.isAuthenticated(),startAnimation:!1,animationText:"",saveIcon:"cloud-upload",copyIcon:"clone",hasError:!1}},created:function(){this.$route.query&&this.$route.query.draftId&&(this.draftId=this.$route.query.draftId,this.createMailModel())},mounted:function(){this.dropDownTriggerEvent=new CustomEvent("defaultEvent",{bubbles:!1}),document.getElementById("save-as-draft-btn").dispatchEvent(this.dropDownTriggerEvent)},methods:{getLink:function(){this.formModel.baseSettings.captchaChoice?this.inputAnyQuestion&&this.captcha.isOk?this.saveDraft():this.inputAnyQuestion||(this.isSaved=!0):null===this.captcha.isOk?this.isSaved=!0:this.inputAnyQuestion||(this.isSaved=!0)},onDropdownInput:function(e){e||"#form-view-submit-captcha"===this.captcha.toTeleport||this.$set(this.captcha,"toTeleport","#form-view-submit-captcha")},createMailModel:function(){this.shareMailModel={body:this.$t("saveAsDraft.emailShareBody",{formTitle:this.formModel.title,draftLink:this.draftedLink,date:(new Date).toLocaleDateString()}),subject:this.$t("saveAsDraft.emailShareSubject",{formTitle:this.formModel.title,date:(new Date).toLocaleDateString()}),to:""},this.$root.setUser(e=>{e&&e.info&&e.info.email&&(this.shareMailModel.to=e.info.email)})},copyUrl:function(){y.default.copyToClipboard(this.draftedLink)&&(this.$root.pushNotification(this.$t("notification.copiedToClipboard")),this.copyIcon="check")},openSaveAsDropdown:function(e){this.$refs.saveAsDraftDropdown.close(),this.$nextTick(()=>{setTimeout(()=>{this.$refs.saveAsDraftDropdown.open(e||this.dropDownTriggerEvent)},0),e&&(this.dropDownTriggerEvent=e),"#save-as-draft-captcha"!==this.captcha.toTeleport&&this.$set(this.captcha,"toTeleport","#save-as-draft-captcha")})},saveDraft:function(){var e=this;this.$emit("setCaptcha",s()((function*(){if("#save-as-draft-captcha"!==e.captcha.toTeleport&&(e.captcha.toTeleport="#save-as-draft-captcha"),null===e.captcha.isOk||null!==e.captcha.isOk&&e.captcha.isOk){var t;if(e.$emit("resetServerSideError"),e.startAnimation=!0,e.loading=!0,e.animationText=e.$t("saveAsDraft.saving"),!y.default.isEmpty(e.currentQuestion)&&e.currentQuestion.questionModel&&e.currentQuestion.questionModel._id)t=e.currentQuestion.questionModel._id;else{var i=e.formModel.questionsWithPage[e.currentPageIndex];i&&(t=i.pageId)}var o,r,s=yield b.a.saveDraftAnswer(e.formModel,e.draftId,e.captcha,t);if(s.success&&s.payload)e.hasError=!1,e.draftId=s.payload,e.$emit("setDraftId",e.draftId),e.isSaved=!0,e.loading=!1,e.$route.query.draftId||e.$router.push({query:{draftId:e.draftId}}),e.inputAnyQuestion=!1,e.animationCount=0,e.startAnimation=!1,e.saveIcon="check",e.$eventTrigger.fireFormsappAnalyticsEvent({eventName:"after_login",category:"save_as_draft",action:"get_link",label:e.draftId}),e.createMailModel(),e.$emit("resetCaptcha"),null!==(o=e.$refs)&&void 0!==o&&null!==(r=o.saveAsDraftDropdown)&&void 0!==r&&r.isOpen||e.openSaveAsDropdown(e.dropDownTriggerEvent);else e.$emit("answerSaveErrorManager",s,!0),e.hasError=!0,e.isSaved=!1,e.loading=!1}else e.$nextTick(()=>{e.openSaveAsDropdown(e.dropDownTriggerEvent)})})))},onInputAnyQuestion:function(){this.isSaved=!1,this.copyIcon="clone",0===this.animationCount&&(this.inputAnyQuestion=!0,this.startAnimation=!1,this.draftId?this.animationText=this.$t("saveAsDraft.updateDraft"):this.animationText=this.$t("saveAsDraft.saveAsDraft"),this.saveIcon="cloud-upload",this.startAnimation=!0,this.animationCount++)},login:function(){this.$refs.saveAsDraftDropdown.close();var e=screen.width/2-300,t=screen.height/2-400,i=this.$eventTrigger.getUTMQueries("save_as_draft",this.formModel._id),o=window.open(p.a.mainBaseUrl+"/auth/signup?".concat(i),"signup","menubar=no, toolbar=no, status=no, resizable=yes, scrollbars=yes, height=".concat(800,", width=").concat(600,", left=").concat(e,", top=").concat(t));if(o&&o.focus){o.focus();var r=setInterval(()=>{o&&!o.closed||(clearInterval(r),r=null,this.$root.setTokenFromCookie(),M.a.getItem("authToken")&&(this.isAuthenticated=!0))},250)}}},computed:{isOnClickOpenDropdown:function(){return this.draftId&&this.inputAnyQuestion},draftedLink:function(){return"".concat(window.location.origin).concat(window.location.pathname,"?draftId=").concat(this.draftId)}}},U=(i("2Kcl"),Object(T.a)(N,R,[],!1,null,"28c2cf8f",null).exports),W=i("12B7"),j=i("9Jic"),H=i("+VFL"),Y=function(){var e=this,t=e._self._c;return e.captcha.toTeleport?t("div",[t("Teleport",{attrs:{to:e.captcha.toTeleport}},[t("div",[t("Captcha",{ref:"captcha",staticClass:"captcha",attrs:{version:e.formModel.baseSettings&&e.formModel.baseSettings.captchaChoice?2:3},on:{onVerify:e.onVerify,onExpired:e.onExpired}}),e._v(" "),null===e.captcha.isOk||e.captcha.isOk?e._e():t("i-alert",{attrs:{type:"error"}},[e._v("\n\t\t\t\t"+e._s(e.$t("notARobot"))+"\n\t\t\t")])],1)])],1):e._e()};Y._withStripped=!0;var J=i("sMx2"),G={name:"formviewcaptcha",components:{Captcha:i("pjF1").a,Teleport:J.a},data:()=>({captchaChoice:!1}),props:{formModel:Object,captcha:{type:Object,default:()=>({isOk:null,version:3,toTeleport:"#form-view-submit-captcha"})}},methods:{getCaptcha:function(){return this.$refs.captcha},onVerify(e){e.toTeleport!==this.captcha.toTeleport&&(e.toTeleport=this.captcha.toTeleport),this.$emit("onVerify",e)},onExpired(e){e.toTeleport!==this.captcha.toTeleport&&(e.toTeleport=this.captcha.toTeleport),this.$emit("onExpired",e)}}},z=Object(T.a)(G,Y,[],!1,null,null,null).exports,K=w.a.getAllQuestionTypes();for(var Z in V)$.a[Z]=V[Z];$.a.SaveAsDraft=U,$.a.WelcomePage=()=>Promise.all([i.e(26),i.e(50),i.e(49),i.e(267),i.e(271),i.e(39)]).then(i.bind(null,"na3H")),$.a.ThankYouPage=()=>Promise.all([i.e(26),i.e(50),i.e(49),i.e(267),i.e(271),i.e(39)]).then(i.bind(null,"BNa0")),$.a.FormBuilderBrandFooter=()=>Promise.all([i.e(267),i.e(170),i.e(93)]).then(i.bind(null,"9nDV")),$.a.CardDesignFooter=()=>Promise.all([i.e(267),i.e(170),i.e(93)]).then(i.bind(null,"93++")),$.a.FormViewQuotaExceeded=I,$.a.FormViewInaccessible=k,$.a.CopyToClipboard=m.a,$.a.OpenNewWindow=h.a,$.a.WhatsappDmComponent=F,$.a.QuestionView=u.a,$.a.FormHeader=f.a,$.a.PageBreakPagination=j.a,$.a.PageBreakButtons=H.a,$.a.FormViewCaptcha=z;var X,ee,te,ie,oe,re,se,ae={name:"FormView",components:$.a,mixins:[L.a,Q.a],props:{setAppVueVariable:Function},data:()=>({isFlex:!1,ownerUser:{userInfo:null},sidebars:{user:{isOpen:!1}},submitButtonLoading:!1,error:{},hasServerSideError:!1,valid:!0,formModel:{questions:[]},showWelcomePage:!1,showThankYouPage:!1,captcha:{isOk:null,version:3,toTeleport:"#form-view-submit-captcha"},formError:{},disableSubmitButton:null,verifyingLocation:!1,infoMsg:"",isFormLoading:!0,preview:{selectedDevice:"desktop",isOpen:!1},conditions:{},conditionsTimeout:null,firstAnswers:[],mountedsetTimeout:null,questionTypes:K,BbCode:S.b,publicId:"",thankYouPageData:{publicId:""},paymentSuccessful:!1,baseFormData:{questions:[]},startingDate:null,openNewTab:!1,questionsMounted:!1,draftId:null,draftAnswer:null,isInitPageRunAndFormModelEmpty:!1,isSubmitComingFromTimeExpired:!1,showBrowserChangesPopup:!0,pagesWithQuestions:[],currentPageIndex:0,lastTargetId:"",onRunFormValidationIgnore:!1}),mounted:function(){(document.body.classList.add("form-view"),this.isAnswerableForm&&(window.onload=()=>{this.formModel&&this.formModel.questions.length>0?this.initPage():this.$set(this,"isInitPageRunAndFormModelEmpty",!0)}),document.getElementById("formsAppFbBtnBody")&&document.getElementById("formsAppFbBtnBody").remove(),parent&&parent.postMessage&&this.$root.isIframe&&!this.isCardDesign)&&new(window.MutationObserver||window.WebKitMutationObserver)(()=>{var e=document.body,t=document.documentElement,i=0;i=document.height?document.height:Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight),parent.postMessage("formsapp-setHeight:"+JSON.stringify({id:this.id,height:i}),"*")}).observe(document,{attributes:!0,childList:!0,subtree:!0,characterData:!0})},methods:{onSubmitButtonMounted:(se=s()((function*(){this.isAutoSubmit&&this.$nextTick(()=>{b.a.deleteDraftAnswerFromLocalstorage(this.formModel._id),this.onSubmit()})})),function(){return se.apply(this,arguments)}),calculateCompleteTimeSeconds:function(){var e=(new Date).getTime()-this.startingDate.getTime();return Math.floor(e/1e3)},alertClose:function(){var e=document.querySelector(".error-alert-view");e&&e.remove()},onBackClick:function(){window.history.back(),window.close()},fixQuestionNumbers:function(){var e=0;this.formModel.questions.forEach((t,i)=>{if(!0!==t.hidden){var o=K[t.questionType];o&&o.fixQuestionNumber?e=o.fixQuestionNumber(e,t):e++,this.$set(this.formModel.questions[i],"viewHelpers",{questionNumber:e})}})},executeConditionLogic:function(e){return new Function("questions",e)(this.formModel.questionsMap)},onQuestionMounted:(re=s()((function*(e){this.questionsMounted||(this.questionsMounted=!0,this.checkIfQuestionTriggered()),this.draftAnswer&&this.lastTargetId===e._id&&this.isCardDesign&&this.$nextTick(()=>{this.scrollToQuestionId(this.lastTargetId)})})),function(e){return re.apply(this,arguments)}),onEveryQuestionInput:function(e){this.$set(this.formData.answerMap,e._id,e.answer);var t=()=>{if(this.isCardDesign&&!y.default.isEmpty(e.answer)&&this.currentQuestion&&this.currentQuestion.questionModel&&this.currentQuestion.questionModel._id===e._id){var t=e.questionType,i=(e[e.questionType]||{}).subType,o=null;(o=i&&K[i]&&K[i].nextQuestionOnInput?K[i].nextQuestionOnInput:K[t].nextQuestionOnInput)&&o(e)&&this.formModel.baseSettings.autoPassSingle&&setTimeout(()=>{this.scrollToNextQuestion()},450)}};this.$refs.answerDraft&&this.$refs.answerDraft.onInputAnyQuestion(),this.hasConditionForQuestion(e)?(this.checkIfQuestionTriggered(),t()):t()},onFocusQuestion:function(e){this.isCardDesign&&this.scrollToQuestionId(e._id)},checkIfQuestionTriggered:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.formModel&&Array.isArray(this.formModel.conditions)&&0!==this.formModel.conditions.length){var i={};this.formModel.questions.forEach(e=>{e.conditions&&e.conditions.forEach(e=>{for(var t=0;t<e.actions.length;t++){var o=e.actions[t];if(o.targetQuestionId&&o.action){var r=this.formModel.questionsMap[o.targetQuestionId],s=this.executeConditionLogic(e.code);i[r._id]||(i[r._id]={isTriggered:!1,action:""}),s?(i[r._id].action=o.action,i[r._id].isTriggered=!0):i[r._id].isTriggered||(i[r._id].action="hide"===o.action?"show":"hide")}}})});var o=!1,r=function(t){var r=e.formModel.questionsMap[t],s=void 0!==r.forceHidden?r.forceHidden:"hide"===i[t].action;if(r.hidden!==s){r.hidden=s,o=!0;var a=r.questionType,n=(r[r.questionType]||{}).subType;if("pagebreak"===a){var d=e.formModel.questionsWithPage.findIndex(e=>e.pageId===r._id);d<e.currentPageIndex&&(s?e.currentPageIndex--:e.currentPageIndex++),e.formModel.questionsWithPage[d].questions.forEach(e=>{e.hidden=s}),e.formModel.questionsWithPage[d].hidden=s}if(s)e.$delete(r,"answer");else{var l=null;(l=n&&K[n]&&K[n].getDefaultAnswer?K[n].getDefaultAnswer:K[a].getDefaultAnswer)&&e.$set(r,"answer",l(r,e.formModel));var c=y.default.routeGetParameters();if(c[r._id]&&r.getValueFromUrl){var u=y.default.fixSpecialCharactersInUrlParam(c[r._id]),f="";f=a.convertUrlParamsToAnswerModel?a.convertUrlParamsToAnswerModel(r,u):u,e.$set(r,"answer",f)}}e.executeRelatedCondition(e.formModel,r)}};for(var s in i)r(s);this.pagesWithQuestions=this.formModel.questionsWithPage.filter(e=>!e.hidden),o&&(this.checkIfQuestionTriggered(!0),t||this.fixQuestionNumbers())}},onRunFormValidation:function(){this.hasServerSideError&&!this.onRunFormValidationIgnore&&(this.resetValidationRules(),this.hasServerSideError=!1,this.$refs.form.validate(),this.onRunFormValidationIgnore=!1)},onVerify:function(e){this.captcha=e,this.captcha.version=2},onExpired:function(e){this.captcha.isOk=e.isOk,this.formModel.captcha=void 0},onClickChild(e){this.showWelcomePage=e,this.isCardDesign&&(e||this.initCardDesign()),y.default.fixedExternalRedirectUrl()},getDefaultValidationRules:function(e){var t={};return e.forEach(e=>{var i=K[e.questionType],o=[];if(i&&i.createValidationRules){var r=i.createValidationRules(e);Array.isArray(r)?o.push(...r.slice()):o=r}t[e._id]=o}),t},resetValidationRules:function(){var e=this.getDefaultValidationRules(this.formModel.questions);for(var t in this.formModel.validationRules){var i=e[t],o=this.formModel.validationRules[t];if(Array.isArray(o))(o=[]).push(...i.slice());else for(var r in o)Array.isArray(o)?(o[r]=[],o[r].push(...i[r].slice())):o[r]=i[r];this.formModel.validationRules[t]=o}this.alertClose()},goToSignIn:function(e){var t=window.location.href;if(e){this.$route.query&&Object.keys(this.$route.query).length>0?t+="%26".concat("autoSubmit=true"):t+="?".concat("autoSubmit=true")}window.location.href=p.a.mainBaseUrl+"/auth/signin?redirect="+t+"%23formview"},resetCaptcha:function(){(this.captcha.isOk=null,this.captcha.token=null,2===this.captcha.version)&&(this.$refs.formviewcaptcha.getCaptcha().reset(),this.captcha.isOk=null)},setCaptcha:(oe=s()((function*(){var e=this.$refs.formviewcaptcha.getCaptcha();this.captcha=yield e.getToken(!0,"".concat(this.formModel._id,"_submission")),this.setCaptchaToTeleport(),(!this.captcha||this.captcha&&!this.captcha.isOk)&&this.showReCaptchaVersion2()})),function(){return oe.apply(this,arguments)}),setCaptchaOnSubmitWithCallback:(ie=s()((function*(e){yield this.setCaptchaOnSubmit(),e()})),function(e){return ie.apply(this,arguments)}),setCaptchaOnSubmit:(te=s()((function*(){var e=this;3===this.captcha.version&&(this.$root.mobileApp?(this.captcha.isOk=!0,this.captcha.provider="googlev3"):this.$refs.formviewcaptcha?yield this.setCaptcha():setTimeout(s()((function*(){yield e.setCaptcha()})),700))})),function(){return te.apply(this,arguments)}),onSubmit:(ee=s()((function*(){if(this.isLocalTest&&this.formModel.afterSubmissionSettings)return this.showThankYouPage=!0,this.destroyCardDesign(),void y.default.fixedExternalRedirectUrl();if(!0!==this.submitButtonLoading){if(!this.$auth.isAuthenticated()&&this.formModel.baseSettings.requireLoginForSubmission&&!this.formModel.baseSettings.showLoginBeforeForm)return yield b.a.saveDraftAnswer(this.formModel),void this.goToSignIn(!0);if(null===this.disableSubmitButton){if(this.resetValidationRules(),!this.$refs.form.validate())return;if(this.formModel.answerFiles=[],this.submitButtonLoading=!0,yield this.setCaptchaOnSubmit(),!0===this.captcha.isOk||null===this.captcha.isOk){this.hasServerSideError=!1;var e="en";this.ownerUser.userInfo&&this.ownerUser.userInfo.language&&(e=this.ownerUser.userInfo.language),this.formModel.completeSecond||(this.formModel.completeSecond=this.calculateCompleteTimeSeconds()),this.draftId&&(this.formModel.draftId=this.draftId,this.$eventTrigger.fireGenericGoogleAnalyticEvent({eventName:"forms",source:"save_as_draft_".concat(this.draftId),action:"answer"}));var t=yield b.a.saveAnswer(this.formModel,this.captcha,e);if(t.success){var i=t.payload;if(M.a.removeItem("formAnswers-".concat(this.formModel._id)),this.thankYouPageData.publicId=i.publicId,i.calculator&&(this.thankYouPageData.calculator=i.calculator),this.formModel.conversionCodes&&Array.isArray(this.formModel.conversionCodes.remarketing))for(var o=0;o<this.formModel.conversionCodes.remarketing.length;o++){var r=this.formModel.conversionCodes.remarketing[o];r&&r.provider&&l[r.provider]&&l[r.provider].callback(r.code,r.eventName,this.formModel,i.publicId)}if(i.redirectUrl)i.redirectUrl.indexOf(window.location.origin)>-1&&i.redirectUrl.indexOf("externalpayment")<0?this.$router.push({path:i.redirectUrl.replace(window.location.origin,"")}):this.$router.push({name:"ExternalUrlRedirect",query:{url:i.redirectUrl}});else{window.onbeforeunload=null,M.a.setItem("formSubmitted"+this.formModel._id,!0);var s=this.formModel.questions.find(e=>"payment"===e.questionType);s&&s.answer&&this.$eventTrigger.fireGenericAnalyticEvent({category:"form_payment",action:s.answer.gateway,label:s.answer.currency,value:s.answer.amount}),this.startingDate&&this.$eventTrigger.fireGenericGoogleAnalyticEvent({category:"form",action:"submit",label:"sec/q",value:this.calculateCompleteTimeSeconds()/this.formModel.questions.filter(e=>!e.hidden).length}),this.$eventTrigger.fireGenericGoogleAnalyticEvent({category:"form",action:"form_answercount"}),this.$eventTrigger.fireFormsappAnalyticsEvent({eventName:"form",action:"answer",source:this.formViewSource});var a=()=>{this.showThankYouPage=!0,this.destroyCardDesign(),y.default.fixedExternalRedirectUrl(),parent&&parent.postMessage&&parent.postMessage("formSubmitted","*"),(this.draftId||this.isAutoSubmit)&&this.$router.replace({query:null})};this.formModel.afterSubmissionSettings?this.formModel.afterSubmissionSettings.isSaveAndReturn?this.$swal(this.$t("notification.saved"),this.$t("popups.submitFormPopup.text"),"success").then(e=>{this.$route.query.resultaction?document.location.replace(this.$router.currentRoute.path):this.$router.go(this.$router.currentRoute)}):this.formModel.afterSubmissionSettings.isRedirect?this.$router.push({name:"ExternalUrlRedirect",query:{url:this.formModel.afterSubmissionSettings.redirectUrl,parentRedirect:!0}}):this.formModel.afterSubmissionSettings.showReportPage?this.id?this.$router.push({name:"FormPrivateReport",params:{formId:this.formModel._id}}):window.location.href=window.location.pathname+"/report":a():a()}}else this.answerSaveErrorManager(t);this.isSubmitComingFromTimeExpired&&(this.disableSubmitButton="")}}this.setAppVueVariable("showMainLoader",!1),this.submitButtonLoading=!1}})),function(){return ee.apply(this,arguments)}),sidebarStatusChange:function(e){this.sidebars.user.isOpen=e},serverSideErrorLocalization:function(e){return y.default.serverSideErrorLocalization("questionTypes",e)},checkLocationGPS:function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude},i=y.default.getLocationDistance(t,this.formModel.locationSettings);this.locationIsValid(i<this.formModel.locationSettings.radius)},checkLocationIP:(X=s()((function*(){this.locationIsValid(yield g.a.checkLocation(this.formModel.locationSettings))})),function(){return X.apply(this,arguments)}),locationIsValid:function(e){e?this.disableSubmitButton=null:this.infoMsg=this.$t("formSettings.locationSettings.notLocation"),this.verifyingLocation=!1},getMessageLabels:function(){this.formModel.userLabelSetId&&!1!==this.formModel.enableCustomMessage&&x.a.getLabelSet(this.formModel.userLabelSetId,e=>{200===e.status&&e.data&&e.data.labels&&this.setMessageLabels(e.data.labels)})},setMessageLabels:function(e){if(e){var t=JSON.parse(e);-1!==t.other.isRequired.indexOf("{field}")&&(t.other.isRequired=this.$t("isRequired"));var i=B.default.messages[B.default.locale];for(var o in t)for(var r in t[o]){for(var s=r.split("."),a=i,n=0;n<s.length-1;n++)a=a[s[n]];a[s[s.length-1]]=S.b.bbcodeToHtml(t[o][r])}B.default.setLocaleMessage(B.default.locale,i)}},isEntryAnyAnswer:function(){if(this.formModel)return JSON.stringify(this.formModel.questions.map(e=>e.answer))===this.firstAnswers},showReCaptchaVersion2:function(){this.$set(this.formModel.baseSettings,"captchaChoice",!0),this.$set(this.captcha,"isOk",!1),this.$set(this.captcha,"version",2)},executeRelatedCondition:function(e,t){var i=t.questionType,o=(t[t.questionType]||{}).subType;o&&K[o].relatedCondition?K[o].relatedCondition(e,t):i&&K[i].relatedCondition&&K[i].relatedCondition(e,t)},showQuestion:function(e){return!(this.draftAnswer&&this.pagesWithQuestions[this.currentPageIndex].questions.findIndex(t=>t._id===e._id)<0)&&("submitbutton"!==e.questionType&&!e.isDeleted&&!e.hidden)},showQuestionBackAndNextButton:function(e){return!(this.submitButtonVisibleForCardDesign||e.isRequired&&y.default.isEmpty(e.answer))},hasConditionForQuestion:function(e){return e.conditions&&e.conditions.length>0||e.actions&&e.actions.length>0},goToBack:function(){this.$router.go(-1)},answerSaveErrorManager:function(e,t){var i=this;if(!e.errors||"bad_user"!==e.errors&&"bad_token"!==e.errors&&"no_token"!==e.errors){if(this.hasServerSideError=!0,e.errors)if(this.error=e.errors,e.errors.fieldErrors){this.onRunFormValidationIgnore=!0;var o=e.errors.fieldErrors[0].fieldName;this.gotoPageByQuestionId(o);for(var r=function(t){var o=e.errors.fieldErrors[t];if(Array.isArray(i.formModel.validationRules[o.fieldName]))i.$set(i.formModel.validationRules,o.fieldName,[e=>i.serverSideErrorLocalization(o.error)]);else if(o.fieldName&&i.formModel.validationRules[o.fieldName]&&i.formModel.validationRules[o.fieldName]._&&(o.dontShowMainError||i.$set(i.formModel.validationRules[o.fieldName],"_",[e=>i.serverSideErrorLocalization(o.error)])),o.subFieldErrors)for(var r=function(e){var t=o.subFieldErrors[e];i.$set(i.formModel.validationRules[o.fieldName],[t.fieldName],[e=>i.serverSideErrorLocalization(t.error)])},s=0;s<o.subFieldErrors.length;s++)r(s)},s=0;s<e.errors.fieldErrors.length;s++)r(s)}else this.$goTo(this.$refs.form.offsetTop);else this.$goTo(this.$refs.form.offsetTop);this.$nextTick(()=>{setTimeout(()=>{this.hasServerSideError&&this.$refs.form.validate();var e=[];if(this.$refs.questions){for(var t=0;t<this.$refs.questions.length;t++){var i=this.$refs.questions[t].$el.querySelector(".invalid")||null;e.push(i)}for(var o=0;o<e.length;o++){null!==e[o]&&this.$refs.questions[o].$el.classList.add("question-error")}}},0)})}else this.resetCaptcha(),this.showReCaptchaVersion2(),t&&this.$refs.answerDraft.openSaveAsDropdown();delete this.formModel.completeSecond},gotoPageByQuestionId:function(e){if(this.pagesWithQuestions.length>1&&!this.isCardDesign){var t=this.pagesWithQuestions.findIndex(t=>t.questions.map(e=>e._id).includes(e));this.currentPageIndex=t}},setDraftId:function(e){this.draftId=e},initPage:function(){this.firstAnswers=JSON.stringify(this.formModel.questions.map(e=>e.answer))},timeExpired:function(){if(this.$refs.form.validate()){this.$setAppVueVariable("showMainLoader",!0),W.a.createTokenForTimer(this.formModel._id).then(e=>{this.formModel.timer.finishToken=e.payload.token,this.$setAppVueVariable("showMainLoader",!1)});var e=this;this.$swal({title:this.formModel.timer.timeExpiredTitle,text:this.formModel.timer.timeExpiredMessage,icon:"warning",confirmButtonText:this.formModel.timer.timeExpiredButton,showLoaderOnConfirm:!0}).then((function(){e.onSubmit()})),this.isSubmitComingFromTimeExpired=!0}else this.$swal({title:this.formModel.timer.timeExpiredTitle,text:this.formModel.timer.timeExpiredMessageWithInvalidForm,icon:"warning",confirmButtonText:this.formModel.timer.timeExpiredButtonWithInvalidForm,showLoaderOnConfirm:!0}).then(()=>{this.showBrowserChangesPopup=!1,this.$nextTick(()=>{window.location.reload()})})},setCompleteSeconds(){this.formModel.completeSecond=this.calculateCompleteTimeSeconds()},validateAndNextPage:function(){this.resetValidationRules(),this.$refs.form.validate()&&(window.scrollTo({top:0}),this.currentPageIndex+=1)},setCaptchaToTeleport(){this.showPaginationForPageBreak&&this.currentPageIndex+1<this.pagesWithQuestions.length?this.$set(this.captcha,"toTeleport","#save-as-draft-captcha"):this.$set(this.captcha,"toTeleport","#form-view-submit-captcha")}},created(){var e=this;return s()((function*(){e.setCaptchaToTeleport();var t,i,o,r=!1;if(window.showReCaptchaVersion2=e.showReCaptchaVersion2,e.isPreview)return M.a.getItem("unsavedNewForm-"+e.id)?void document.body.classList.add("form-preview"):void(window.location.href="".concat(p.a.formProfileBaseUrl,"/form/").concat(e.id));if(e.isLocalData){var a=M.a.getItem("unsavedNewForm-"+e.id);a&&(t=JSON.parse(a).formModel)}else e.localForm&&(t=e.localForm);if(e.setAppVueVariable("showMainLoader",!0),!t)if((i=e.isCustomDomainRoute?yield g.a.getSharedCustomDomain(window.location.hostname,e.formUrl):yield g.a.getShared(e.id,e.username,e.formUrl))&&i.status){if(200!==i.status)return e.setMessageLabels(i.data.messageLabelSet&&i.data.messageLabelSet.labels),e.formModel=null,e.formError=i||{},e.isFormLoading=!1,e.setAppVueVariable("showMainLoader",!1),void(e.isCustomDomainRoute||i.data.isSuspended&&(e.$eventTrigger.fireGenericAnalyticEvent({category:"redirect",action:"phishing",label:"form_view"}),window.location.href=e.mainBaseUrl+"/phishing"));t=i.data}else i&&"Error"===i.constructor.name&&(e.formError=i.response||{}),e.formModel=null;if(t){if(e.baseFormData=JSON.parse(JSON.stringify(t)),t.questionsMap={},t.answerMap={},document.title=t.metaData&&t.metaData.title||"".concat(t.title," | forms.app"),e.$root.activeFormId=t._id,e.$root.activeFormOwnerId=t.userId,t.conversionCodes&&Array.isArray(t.conversionCodes.remarketing))for(var n=0;n<t.conversionCodes.remarketing.length;n++){var c=t.conversionCodes.remarketing[n];c&&c.provider&&l[c.provider]&&l[c.provider].init(c.code,t)}if(t.directMessageSettings)for(var u=Object.keys(t.directMessageSettings),f=0;f<u.length;f++){var m=u[f],h=t.directMessageSettings[m];if(h.isEnable){var w=O[m];w&&(h.locale=e.$root.user.info.language,h.color=t.designSettings.mainColor,w.init(h))}}var _,S,E=!1;if(t.questions.length<1&&(e.disableSubmitButton=""),e.$route.query&&e.$route.query.draftId&&(e.draftId=e.$route.query.draftId),e.isAutoSubmit){var T=yield b.a.getDraftAnswer(t._id);T&&(e.draftAnswer=T)}else if(e.draftId){var I=yield b.a.getDraftAnswer(t._id,e.$route.query.draftId);I?e.draftAnswer=I:e.$swal({text:e.$t("errorEnums.previouslySubmittedDraft"),icon:"warning",confirmButtonText:e.$t("saveAsDraft.reSubmit")}).then((function(){window.location=window.location.pathname}))}e.draftAnswer&&e.draftAnswer.lastTargetId&&(e.lastTargetId=e.draftAnswer.lastTargetId),e.draftAnswer&&(_=e.draftAnswer.answers);var A,D={};e.paymentSuccessful=!1;var k={paymentsuccess:()=>{e.paymentSuccessful=!0;var i=!1;delete t.baseSettings.captchaChoice,e.captcha.version=3;var o=()=>{i||(i=!0,e.$nextTick(()=>{e.onSubmit()}))};window.addEventListener("load",e=>{o()}),setTimeout(()=>{o()},1400)},paymentcancel:(o=s()((function*(){S?(yield v.a.formPaymentFaild(t._id,S),e.setAppVueVariable("showMainLoader",!1),e.hasServerSideError=!0,e.error={errors:[{errorMessage:e.$t("questionTypes.payment.faild")}]}):r=!1})),function(){return o.apply(this,arguments)})};if(e.$route.query.resultaction){if(k[e.$route.query.resultaction]){if(r=!0,A=!0,D=e.$route.query,S=D.pid){var $=yield v.a.getFormPaymentAnswers(t._id,S);$.success?(_=$.data.answers,t.answerFiles=$.data.answerFiles,t.publicId=$.data.publicId,$.data.reduceFromStockKey&&(D.reduceFromStockKey=$.data.reduceFromStockKey)):r=!1}var x=t.questions.find(e=>"payment"===e.questionType);x&&(e.pagesWithQuestions.length>1&&(e.currentPageIndex=e.pagesWithQuestions.findIndex(e=>e.questions.map(e=>e._id).includes(x._id))),e.initQuestionId=x._id),E=!0}var P=K.payment,q=t.questions.find(e=>"payment"===e.questionType);if(_&&q&&P&&P.fixQuestionDefaultValueByAnswers){var F=_.find(e=>e.q===q._id);F&&P.fixQuestionDefaultValueByAnswers(q,F,D)}}var L=y.default.routeGetParameters(),Q=0;if(t.questions.forEach((e,i)=>{var o=K[e.questionType];if(o){if(t.baseSettings&&t.baseSettings.cardDesign&&o.hideCardDesign&&(e.hidden=!0,Q++),e.conditions=[],e.displayOrder-=Q,e.hidden||(e.hidden=e.hiddenQuestion,e.hiddenQuestion&&o.getDefaultAnswer&&(e.answer=o.getDefaultAnswer(e))),L[e._id]&&e.getValueFromUrl){var r=y.default.fixSpecialCharactersInUrlParam(L[e._id]);o.convertUrlParamsToAnswerModel?e.answer=o.convertUrlParamsToAnswerModel(e,r):e.answer=r}if(_&&o.fixQuestionDefaultValueByAnswers){var s=_.find(t=>t.q===e._id);if(s){var a;o.fixQuestionDefaultValueByAnswers(e,s,D);var n=K[(null===(a=e[e.questionType])||void 0===a?void 0:a.subType)||e.questionType];n&&n.getDefaultAnswer?e.answer=n.getDefaultAnswer(e,t):e.answer=e[e.questionType].defaultValue}}t.questionsMap[e._id]=e,t.answerMap[e._id]=e.answer}}),t.validationRules=e.getDefaultValidationRules(t.questions),e.$eventTrigger.fireGenericGoogleAnalyticEvent({category:"form",action:"form_viewcount"}),e.$eventTrigger.fireFormsappAnalyticsEvent({eventName:"form",action:"view",source:e.formViewSource}),Array.isArray(t.conditions))for(var B=function(i){var o=t.conditions[i];if(!Array.isArray(o.triggers))return"continue";var r=y.default.generateConditionCode(o.triggers,t.questionsMap,K);return r&&Array.isArray(o.actions)&&o.actions.length>0?(o.actions.forEach((i,r)=>{i.targetQuestionId&&i.action&&(t.questionsMap[i.targetQuestionId]?(t.questionsMap[i.targetQuestionId].hidden="hide"!==i.action,t.questionsMap[i.targetQuestionId].actions=t.questionsMap[i.targetQuestionId].actions||[],t.questionsMap[i.targetQuestionId].actions.push(i),e.executeRelatedCondition(t,t.questionsMap[i.targetQuestionId])):o.actions.splice(r,1))}),void(Array.isArray(o.triggers)&&o.triggers.forEach(e=>{e.questionId&&(null===e.answer||e.answer)&&e.case&&t.questionsMap[e.questionId].conditions.push({code:r,actions:o.actions})}))):"continue"},V=0;V<t.conditions.length;V++)B(V);if(e.setPagesWithQuestionsArray(t),e.formModel=t,e.formModel.questionsWithPage.length>1&&e.formModel.questionsWithPage.forEach(t=>{var i;null!==(i=e.formModel.questionsMap[t.pageId])&&void 0!==i&&i.hidden&&(t.hidden=!0,t.questions.forEach(e=>{e.hidden=!0}))}),e.pagesWithQuestions=e.formModel.questionsWithPage.filter(e=>!e.hidden),e.lastTargetId&&e.draftAnswer&&e.formModel.questionsWithPage&&!e.isCardDesign&&(e.currentPageIndex=e.formModel.questionsWithPage.findIndex(t=>t.pageId===e.lastTargetId)),e.getMessageLabels(),e.fixQuestionNumbers(),e.isInitPageRunAndFormModelEmpty&&e.initPage(),e.isFormLoading=!1,!E&&e.formModel.welcomePageSettings&&(e.showWelcomePage=t.welcomePageSettings.showWelcomePage),e.formModel.designSettings){if(e.formModel.designSettings.font&&d.a.load({google:{families:["".concat(e.formModel.designSettings.font,":400,500,600,700&;devanagari,latin-ext")]},events:!1,classes:!1}),e.formModel.designSettings.isEnabled||e.formModel.designSettings.themeName){var R=C.a.generateFormDesignRule(e.formModel.designSettings,e.formModel._id,e.formModel.formTempFiles);y.default.injectCss(R)}if(e.formModel.designSettings.isCustomCssEnabled){var N=C.a.generateCustomCssDesignRule(e.formModel.designSettings.customCss,e.formModel.designSettings.customCssMediaRules);y.default.injectCss(N,"custom-css")}}if(e.formModel.baseSettings=t.baseSettings||{},e.formModel.baseSettings.captchaChoice&&(e.captcha.isOk=null,e.captcha.version=2),e.isAnswerableForm||(e.disableSubmitButton=e.infoMsg),!e.$auth.isAuthenticated()&&e.formModel.baseSettings&&e.formModel.baseSettings.requireLoginForSubmission&&e.formModel.baseSettings.showLoginBeforeForm)return void e.goToSignIn();if(!A&&e.formModel.locationSettings&&e.formModel.locationSettings.isEnable){e.disableSubmitButton="",e.verifyingLocation=!0;var U=e;!e.formModel.locationSettings.provinceCode&&e.formModel.locationSettings.lat&&navigator.geolocation?navigator.geolocation.getCurrentPosition(e.checkLocationGPS,s()((function*(){yield U.checkLocationIP()}))):yield U.checkLocationIP()}if(e.$route.query.card&&e.$set(e.formModel.baseSettings,"cardDesign",!0),e.formLoadedForCardDesign(),e.isCardDesign&&!e.showWelcomePage&&e.initCardDesign(),"true"===e.$route.query.openNewTab){e.openNewTab=!0;var W=location.href.split("?")[0];window.history.pushState("object",document.title,W)}r&&e.$route.query.resultaction&&k[e.$route.query.resultaction]&&(yield k[e.$route.query.resultaction]()),e.$nextTick(()=>{e.checkIfQuestionTriggered()})}e.isAnswerableForm&&(window.onbeforeunload=()=>{if(e.startingDate){var t={category:"form",action:"formview_close",value:e.calculateCompleteTimeSeconds()};e.showWelcomePage&&(t.label="didnt_close_welcomepage"),e.$eventTrigger.fireGenericAnalyticEvent(t)}if(!e.$root.isIframe&&!e.isEntryAnyAnswer()&&!e.publishDateSettingsEnabled&&!e.submitButtonLoading&&e.showBrowserChangesPopup)return e.$t("unsavedChanges")}),r||e.setAppVueVariable("showMainLoader",!1),e.startingDate=new Date,y.default.fixedExternalRedirectUrl()}))()},beforeDestroy:function(){if(document.body.classList.remove("form-preview"),document.body.classList.remove("form-view"),y.default.removeCss(),this.formModel&&this.formModel.conversionCodes&&Array.isArray(this.formModel.conversionCodes.remarketing))for(var e=0;e<this.formModel.conversionCodes.remarketing.length;e++){var t=this.formModel.conversionCodes.remarketing[e];t&&t.provider&&l[t.provider].remove(t.code,this.formModel)}},destroyed:function(){window.onbeforeunload=null},computed:{renderedQuestions:function(){return this.pagesWithQuestions[this.currentPageIndex].questions},isAutoSubmit:function(){return!(!this.$route.query||!this.$route.query.autoSubmit)&&this.$route.query.autoSubmit},filteredQuestions:function(){return this.formModel.questions.filter(e=>"submitbutton"!==e.questionType&&!e.isDeleted&&!e.hidden)},isPreview(){return"true"===this.$route.query.preview},isLocalData(){return"true"===this.$route.query.localData},isLocalTest(){return this.isLocalData||this.localForm},ownerUserPhoto:function(){return y.default.isProfilePhotoId(this.ownerUser.userInfo.photo)?p.a.fileApi+"/photo/"+this.ownerUser.userInfo.photo:this.ownerUser.userInfo.photo},id:function(){return this.$route.params.id},username:function(){return this.$route.params.username},formUrl:function(){return this.$route.params.formUrl},isUserHasAnyAnswer:function(){return void 0!==this.formModel.isUserHasAnyAnswer?this.formModel.isUserHasAnyAnswer:M.a.getItem("formSubmitted"+this.formModel._id)},isAnswerableForm:function(){return!!this.formModel&&(this.formModel.baseSettings&&this.formModel.baseSettings.preventMultipleSubmissions?(this.isUserHasAnyAnswer&&(this.infoMsg=this.$t("filledFormBefore")),!this.isUserHasAnyAnswer):!this.formModel.isAnswerQuotaExceeded||(this.infoMsg=Object(a.a)("quota.302"),!1))},publishDateSettingsEnabled:function(){if(this.formError&&this.formError.data)return 301===this.formError.data.errorCode||1301===this.formError.data.errorCode},mainBaseUrl:function(){return p.a.mainBaseUrl},formShareUrl:function(){return this.$route.query.url?"".concat(p.a.formProfileBaseUrl,"/").concat(this.$route.query.url):"".concat(p.a.formProfileBaseUrl,"/form/").concat(this.id)},logo:function(){return this.formError&&this.formError.data&&this.formError.data.designSettings&&y.default.brightnessByColor(this.formError.data.designSettings.questionColor)>127||this.$root.isDarkMode?"/static/img/logo-home-white.svg":"/static/img/logo-home.svg"},formErrorData:function(){return this.formError&&this.formError.data?this.formError.data:{}},formViewSource:function(){return this.$route.query&&this.$route.query.draftId?"save_as_draft_".concat(this.$route.query.draftId):this.$route.query.formsRef||this.$route.query.utm_source?this.$route.query.formsRef||this.$route.query.utm_source:void 0},isCustomDomainRoute:function(){return this.$route.meta&&this.$route.meta.isCustomDomain},localForm:function(){if(!this.$auth.isAuthenticated()){var e=M.a.getItem("forms");if(e)return e=JSON.parse(e),this.$root.localForm=!0,e.find(e=>e._id===this.id)}return this.$root.localForm=!1,!1},showPaginationForPageBreak(){var e,t;return!this.isCardDesign&&(null===(e=this.formModel)||void 0===e||null===(t=e.questionsWithPage)||void 0===t?void 0:t.length)>1&&!this.showWelcomePage&&!this.showThankYouPage&&!1===this.isFormLoading}}},ne=(i("F4Fb"),Object(T.a)(ae,o,[],!1,null,"6a79ad10",null));t.default=ne.exports},"6zM3":function(e,t,i){"use strict";i("sjma")},"8Pnq":function(e,t,i){},"8YY7":function(e,t,i){},"BY/5":function(e,t,i){var o=i("LboF"),r=i("8YY7");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1};o(r,s);e.exports=r.locals||{}},F4Fb:function(e,t,i){"use strict";i("Ww6Q")},I2bs:function(e,t,i){},UgpZ:function(e,t,i){"use strict";i("BY/5")},Ww6Q:function(e,t,i){var o=i("LboF"),r=i("I2bs");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1};o(r,s);e.exports=r.locals||{}},ZGaD:function(e,t,i){var o=i("LboF"),r=i("j67C");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1};o(r,s);e.exports=r.locals||{}},j67C:function(e,t,i){},sERy:function(e,t,i){"use strict";var o,r,s,a,n,d=i("lSNA"),l=i.n(d),c=i("yXPU"),u=i.n(c),f=i("12B7"),m=i("ttAG"),h=i("K/kh"),p=i("C7t/"),g=i("kdFr");function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){l()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}t.a={saveDraftAnswer:(n=u()((function*(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0,r=yield this.convertAnswerModel(e);return r.draftId=t,r.lastTargetId=o,r.errors?{errors:{fieldErrors:r.errors},success:!1}:i?yield f.a.addDraft(r,i):(g.a.setItem("".concat(e._id,"-draftLocalAnswer"),JSON.stringify(r)),{success:!0})})),function(e,t){return n.apply(this,arguments)}),saveAnswer:(a=u()((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",o=yield this.convertAnswerModel(e,i);return o.errors?{errors:{fieldErrors:o.errors},success:!1}:yield f.a.add(o,t)})),function(e){return a.apply(this,arguments)}),convertAnswerModel:(s=u()((function*(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",i={formId:e._id,answers:[],formElementAnswers:[],answerFiles:[],formOwnerLang:t,publicId:e.publicId,completeSecond:e.completeSecond,draftId:e.draftId},o=p.a.getConvertiableAnswerModelFormElements(),r=0;r<o.length;r++){var s=o[r];if(s.isConvertiableAnswerModel&&null!=e["".concat(s.name)]&&e["".concat(s.name)].isEnabled){var a=yield s.formElementInputToAnswerModel(e);i.formElementAnswers.push(a)}}for(var n=0;n<e.questions.length;n++){var d=e.questions[n],l=h.a.getQuestionTypeByTypeName(d.questionType.toLowerCase());if(!m.default.isEmpty(l)&&null!=d.answer&&!!d.hidden==!!d.hiddenQuestion&&l.questionInputToAnswerModel){var c=yield l.questionInputToAnswerModel(d,e.questions,i.formId);if(c.errors)i.errors||(i.errors=[]),i.errors.push(c.errors);else if(!m.default.isEmpty(c)&&(i.answers.push(c),l.getAnswerFileIds)){var u=l.getAnswerFileIds(c);i.answerFiles=i.answerFiles.concat(u)}}}return i})),function(e){return s.apply(this,arguments)}),getDraftAnswer:(r=u()((function*(e,t){var i;if(t){var o=yield f.a.getDraftedAnswer(t,e);o&&o.success&&o.payload&&o.payload.answer&&(i=w(w({},o.payload.answer),{},{lastTargetId:o.payload.lastTargetId}))}else i=JSON.parse(g.a.getItem("".concat(e,"-draftLocalAnswer")));return i})),function(e,t){return r.apply(this,arguments)}),deleteDraftAnswerFromLocalstorage:(o=u()((function*(e){g.a.removeItem("".concat(e,"-draftLocalAnswer"))})),function(e){return o.apply(this,arguments)})}},sjma:function(e,t,i){var o=i("LboF"),r=i("8Pnq");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1};o(r,s);e.exports=r.locals||{}},vKzE:function(e,t,i){var o=i("LboF"),r=i("zJS/");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1};o(r,s);e.exports=r.locals||{}},"zJS/":function(e,t,i){}}]);