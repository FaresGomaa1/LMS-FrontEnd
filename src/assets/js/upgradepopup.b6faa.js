(window.webpackJsonp=window.webpackJsonp||[]).push([[265],{j3gu:function(t,e,o){var n=o("LboF"),i=o("sfq3");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var s={insert:"head",singleton:!1};n(i,s);t.exports=i.locals||{}},nlmW:function(t,e,o){"use strict";o("j3gu")},s3eO:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t._self._c;return e("Teleport",{attrs:{to:"body"}},[e("div",[e("i-popup",{ref:"upgradePopup",staticClass:"upgrade-popup",attrs:{"close-button":""},model:{value:t.popupShow,callback:function(e){t.popupShow=e},expression:"popupShow"}},[e("div",{staticClass:"upgrade-popup-content"},[e("i-icon",{staticClass:"popup-icon",attrs:{icon:t.options.icon}}),t._v(" "),e("UpgradeInfo",{attrs:{title:t.options.title,text:t.options.text,upgradeOptions:t.options.upgradeOptions,currentQuota:t.options.currentQuota,quotaLabel:t.options.quotaLabel,eventName:t.options.eventName},on:{click:t.close}}),t._v(" "),e("div",[e("span",[t._v("\n\t\t\t\t\t\t"+t._s(t.$t("formSettings.notificationSettings.needMore"))+"\n\t\t\t\t\t\t"),e("span",{staticClass:"contact-us-button",on:{click:function(e){return t.openContactUsPopup()}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("formSettings.notificationSettings.contactUs"))+"\n\t\t\t\t\t\t")])])])],1)]),t._v(" "),e("IFramePopup",{ref:"contactUsForm",attrs:{src:"https://forms.app/forms/contact-us",width:"100%"}})],1)])};n._withStripped=!0;var i=o("lSNA"),s=o.n(i),r=o("yXPU"),a=o.n(r),u=(o("4mDm"),o("5s+n"),o("3bBZ"),o("sMx2")),c=o("2pNk"),p=o("OAYW");function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function h(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach((function(e){s()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var f,g=null,d={components:{IFramePopup:c.a,UpgradeInfo:p.default,Teleport:u.a},props:{title:String,text:String,icon:String,upgradeOptions:Array,currentQuota:{type:Number,default:0},quotaLabel:String,resourceType:String,eventName:String},data:function(){return{upgradeChoice:"",popupShow:!1,options:{title:this.title,text:this.text,icon:this.icon,upgradeOptions:this.upgradeOptions,currentQuota:this.currentQuota,quotaLabel:this.quotaLabel,eventName:this.eventName,resourceType:this.resourceType}}},mounted:function(){var t=window.addEventListener?"addEventListener":"attachEvent";(0,window[t])("attachEvent"===t?"onmessage":"message",t=>{"formSubmitted"===(t.data||t.message)&&(this.$refs.contactUsForm.close(),this.close(),this.$eventTrigger.fireGenericAnalyticEvent({category:"quota_limit",action:"submitted_contact_us",label:this.options.eventName||this.options.quotaLabel,value:this.options.currentQuota}))}),null===g&&o.e(338).then(o.bind(null,"x+u3")).then(t=>{g=t.default})},methods:{open:(f=a()((function*(t,e){if(this.$eventTrigger.fireGoogleAnalyticsEvent("upgrade_info_view"),this.$auth.isAuthenticated()){if(t&&g[t]){var o=g[t];this.options=h(h({},o),e),null==this.options.currentQuota&&(this.options.currentQuota=this.$root.user.quotas[o.resourceType].quota)}var n=this.options.ownerId||this.ownerId;n===this.$root.user._id?(this.popupShow=!0,this.$eventTrigger.fireFormsappAnalyticsEvent({eventName:"quota_limit",action:"show",method:"popup-"+this.$route.name,resourceType:this.options.resourceType,limitType:this.options.eventName||this.options.quotaLabel,currentPackage:this.packageName,currentQuota:this.options.currentQuota,ownerId:n})):this.$swal({title:this.$t("accountSettings.quotas.quotaFull"),icon:"warning",text:this.$t("accountSettings.quotas.contactFolderOwner"),confirmButtonText:this.$t("ok")})}else this.$swal({title:this.$t("popups.mustLogin.title"),text:this.$t("popups.mustLogin.text"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("login"),cancelButtonText:this.$t("cancel"),confirmButtonColor:this.$theme.blue})})),function(t,e){return f.apply(this,arguments)}),close:function(){this.popupShow=!1},openContactUsPopup:function(){this.$refs.contactUsForm.open(),this.$eventTrigger.fireGenericAnalyticEvent({category:"quota_limit",action:"open_contact_us",label:this.options.eventName||this.options.quotaLabel,value:this.options.currentQuota})}},computed:{packageName:function(){return this.$root.user.info.package&&this.$root.user.info.package.name},ownerId:function(){var t;return(null===(t=this.$root.ownerInfo)||void 0===t?void 0:t._id)||this.$root.user._id}},watch:{"$route.name":function(){this.close()}}},m=(o("nlmW"),o("KHd+")),v=Object(m.a)(d,n,[],!1,null,"37e0865b",null);e.default=v.exports},sfq3:function(t,e,o){}}]);