(window.webpackJsonp=window.webpackJsonp||[]).push([[289],{"3DzQ":function(e,t,i){},"3IDC":function(e,t,i){"use strict";t.a={percentToPx:function(e){return e?750*Number(e)/100:750}}},"4v4t":function(e,t,i){"use strict";i("yq1k"),i("JTJg"),i("toAj");var s=i("bRvd"),o=i("hMnm"),n=!1,r=document.getElementsByTagName("html")[0],a=0,u=0,l=0,d=0,c=(e,t,i,s)=>{if(i>0)return!1;for(var o=e.target;o;){if(o.className&&"string"==typeof o.className&&o.className.indexOf("question")>-1)return!0;var n=o.scrollHeight-(o.scrollTop+o.clientHeight);if(t){if(0===o.scrollTop&&"auto"===getComputedStyle(o).overflowY)return!1;if(n>0&&0===o.scrollTop&&o.scrollHeight>o.clientHeight)return!0;if(n>0)return!1}else{if(o.scrollTop>0)return!1;if(n>0)return!0}o=o.parentElement||o.parent}return!0};t.a={name:"CardDesignMixin",data:function(){return{invalidQuestions:[],currentQuestion:{questionModel:{_id:""},$parent:{}},initQuestionId:null,cardDesign:{currentQuestionNumber:0},isFormDesign:!1,submitButtonVisibleForCardDesign:!1,questionFocused:!0,vimeoVideosController:{}}},methods:{formLoadedForCardDesign:function(){this.isCardDesign&&(window.scrollTo(0,0),document.body.addEventListener("keydown",this.onKeyDown,!1))},onKeyDown:function(e){if(!this.$root.isMobile&&13===e.keyCode&&!e.shiftKey)if(this.isFormDesign)this.scrollToNextQuestion();else{if(this.submitButtonVisibleForCardDesign)return this.onSubmit();this.validateAndNextQuestion()}},initCardDesign:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isFormDesign=e,window.scrollTo(0,0),this.$nextTick(()=>{this.filteredQuestions&&this.filteredQuestions.length>0&&(this.cardDesign.currentQuestionNumber=1,this.initQuestionId=this.initQuestionId||this.filteredQuestions[0]._id,this.scrollToQuestionId(this.initQuestionId,!this.$root.isIframe))}),document.body.style.overflow="hidden",(this.$root.mobileApp||!this.$root.isIframe||this.isLocalData)&&(window.addEventListener("scroll",this.onScroll,!1),window.addEventListener("touchstart",this.onTouchStart,!1),window.addEventListener("touchmove",this.onTouchMove,!1),window.addEventListener("wheel",this.onWheel))},scrollToQuestionId:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hideSubmitButton(),!(!e||this.showWelcomePage||this.currentQuestion&&e===this.currentQuestion.questionModel._id))if(this.$refs.questions){if(this.questionFocused){this.questionFocused=!1;var i=r.getElementsByClassName("question-media-video")[0];if(i&&(i.src.includes("youtube")&&i.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"),i.src.includes("vimeo")&&this.vimeoVideosController[this.currentQuestion.questionModel._id]&&this.vimeoVideosController[this.currentQuestion.questionModel._id].pause()),this.$refs&&this.$refs.questions&&this.$refs.questions.length>0?(this.currentQuestion=this.$refs.questions.find(t=>t.questionModel._id===e),this.currentQuestion?r=this.currentQuestion.$parent.$el.children[0]:(this.currentQuestion={questionModel:{_id:e}},r=document.getElementById(e).parentNode.children[0])):(this.currentQuestion={questionModel:{_id:e}},r=document.getElementById(e).parentNode.children[0]),this.currentQuestion.questionModel.media&&this.currentQuestion.questionModel.media.autoPlay){var s=r.getElementsByClassName("question-media-video")[0];s&&(s.src.includes("vimeo")?(this.vimeoVideosController[this.currentQuestion.questionModel._id]||(this.vimeoVideosController[this.currentQuestion.questionModel._id]=new o.a(s)),this.vimeoVideosController[this.currentQuestion.questionModel._id].play()):s.src.includes("youtube")&&s.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*"))}this.formData&&(this.cardDesign.currentQuestionNumber=this.formData.questionsMap[e].viewHelpers.questionNumber),this.scrollCurrentScrollBody(),setTimeout(()=>{if(this.questionFocused=!0,this.currentQuestion.comps&&t&&!this.isFormDesign&&(!this.$root.isMobile||this.$root.isMobileKeyboardOpen)){var e=this.currentQuestion.getFirstElementByProp(this.currentQuestion.comps,"focus");!e||!e.focus||e.isFocused||e.getAttribute&&"readonly"===e.getAttribute("readonly")||(e.focus(),this.scrollCurrentScrollBody())}},500)}}else setTimeout(()=>{this.scrollToQuestionId(e,t)},200)},scrollToQuestion:function(e){return this.scrollToQuestionId(e._id)},scrollToQuestionIndex:function(e){if(!window.lockCardDesignFormBuilder)return this.scrollToQuestionId((this.filteredQuestions[e]||{})._id)},scrollToNextQuestion:function(e){if(!this.currentQuestion)return this.initCardDesign();if(this.formData.baseSettings&&this.formData.baseSettings.questionMustValid&&!0!==e&&this.questionFocused)return this.validateAndNextQuestion();if(!this.showSubmitButton()){var t=this.filteredQuestions.findIndex(e=>e._id===this.currentQuestion.questionModel._id);this.scrollToQuestionIndex(t+1)}},scrollToPrevQuestion:function(){if(!this.hideSubmitButton()){var e=this.filteredQuestions.findIndex(e=>e._id===this.currentQuestion.questionModel._id);this.scrollToQuestionIndex(e-1)}},validateAndNextQuestion:function(){return this.showWelcomePage?this.onClickChild(!1):this.currentQuestion?this.currentQuestion.nextQuestion?void this.currentQuestion.nextQuestion(null,e=>{e?this.invalidQuestions.length>0?this.scrollToQuestionId(this.removeInvalidArray()):this.scrollToNextQuestion(!0):e||this.scrollCurrentScrollBody()}):this.scrollToNextQuestion(!0):void 0},removeInvalidArray:function(){if(this.invalidQuestions.length>0){var e=this.invalidQuestions.findIndex(e=>e._id===this.currentQuestion.questionModel._id);return-1===e?this.getFirstInvalidQuestionId():this.invalidQuestions.length>0?(this.invalidQuestions.splice(e,1),this.getFirstInvalidQuestionId()):(this.invalidQuestions.splice(e,1),this.lastQuestion._id)}},getFirstInvalidQuestionId:function(){if(this.invalidQuestions.length>0){for(var e=this.invalidQuestions[0],t=0;t<this.invalidQuestions.length;t++)this.invalidQuestions[t].displayOrder<e.displayOrder&&(e=this.invalidQuestions[t]);return e._id}return this.lastQuestion._id},onWheel:function(e){this.onScrolling(e.wheelDeltaY||-e.deltaY,e)},onTouchStart:function(e){n=!1,a=e.touches[0].clientY,u=e.touches[0].clientX},onTouchMove:function(e){e.touches&&e.touches.length>0&&Math.abs(e.touches[0].clientY-a)>Math.abs(e.touches[0].clientX-u)&&this.onScrolling(e.touches[0].clientY-a,e)},onScrolling:function(e,t){if(!window.lockCardDesign&&!this.showWelcomePage){var i=Math.abs(e);if((t.timeStamp>l+100||i>d+10)&&(n=!1),l=t.timeStamp,d=i,!n)if(e<0){var s=r.scrollHeight-(r.scrollTop+r.clientHeight);s>.5&&(n=!0),s<=2&&!n&&(n=!0,c(t,!0,this.$root.openPopupCount)&&this.scrollToNextQuestion())}else if(e>0){if(this.hideSubmitButton())return void(n=!0);r.scrollTop>0&&(n=!0),r.scrollTop<=2&&!n&&(n=!0,c(t,!1,this.$root.openPopupCount)&&this.scrollToPrevQuestion())}}},onScroll:function(){n&&window.scrollTo(0,0)},destroyCardDesign:function(){document.body.style.overflow=null,window.removeEventListener("scroll",this.onScroll,!1),window.removeEventListener("touchstart",this.onTouchStart,!1),window.removeEventListener("touchmove",this.onTouchMove,!1),window.removeEventListener("wheel",this.onWheel),document.body.removeEventListener("keydown",this.onKeyDown,!1)},showSubmitButton:function(){if(!this.isFormDesign&&this.currentQuestion&&this.currentQuestion.questionModel._id===this.lastQuestion._id&&this.questionFocused){if(!this.formData.submitButton.isShow)return this.fireEventForSubmitButton(),!0;this.submitButtonVisibleForCardDesign=!0;var e=(this.currentQuestion&&this.currentQuestion.$el.parentNode.clientHeight||window.innerHeight)-window.innerHeight;if(e>-350&&this.currentQuestion&&this.currentQuestion.$el){var t="0px";e<-200&&(t="".concat(250+e,"px")),this.currencQuestionBody.style.transform="translateY(".concat(t,")")}return this.$refs.submitButton&&(this.$refs.submitButton.$el.style.transform="translate(-50%, -50%)"),this.fireEventForSubmitButton(),!0}return!1},hideSubmitButton:function(){return!(this.isFormDesign||!this.submitButtonVisibleForCardDesign)&&(this.submitButtonVisibleForCardDesign=!1,this.currentQuestion&&(this.currencQuestionBody.style.transform=null),this.$refs.submitButton&&(this.$refs.submitButton.$el.style.transform=null),!0)},scrollCurrentScrollBody:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(!r||!r.scrollTo)&&this.currentQuestion&&this.currentQuestion.$parent&&this.currentQuestion.$parent.$el&&this.currentQuestion.$parent.$el.children&&this.currentQuestion.$parent.$el.children.length>0&&(r=this.currentQuestion.$parent.$el.children[0]),r&&r.scrollTo&&r.scrollTo(0,e)},fireEventForSubmitButton:function(){s.a.fireGenericAnalyticEvent({category:"form_view",action:"view_submit_button",label:"step_view"})}},beforeDestroy:function(){this.isCardDesign&&this.destroyCardDesign()},computed:{isCardDesign:function(){return this.formData&&this.formData.baseSettings&&this.formData.baseSettings.cardDesign},isCardDesignFadeIn:function(){return this.formData&&this.formData.baseSettings&&this.formData.baseSettings.cardDesignFadeIn},isBackButton:function(){return this.formData&&this.formData.baseSettings&&this.formData.baseSettings.backButton},lastQuestionNumber:function(){return(this.lastQuestion.viewHelpers||{}).questionNumber||0},lastQuestion:function(){return this.filteredQuestions[this.filteredQuestions.length-1]||{}},cardDesignPercent:function(){return this.lastQuestionNumber&&this.cardDesign&&this.cardDesign.currentQuestionNumber?(100*this.cardDesign.currentQuestionNumber/this.lastQuestionNumber).toFixed(0):"0"},formData:function(){return this.formModel||this.form},currencQuestionBody:function(){return document.getElementById(this.currentQuestion.questionModel._id)}}}},"5a2X":function(e,t,i){var s=i("LboF"),o=i("d3AS");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};s(o,n);e.exports=o.locals||{}},"5tLk":function(e,t,i){"use strict";i("IPac")},"9u+E":function(e,t,i){"use strict";i("pSvH")},"AE+C":function(e,t,i){"use strict";i("5a2X")},DEiG:function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{on:{click:function(t){return e.$emit("click")}}},e._l(e.providers,(function(i){return t("".concat(i),{key:i,tag:"component",class:{"step-view":e.form&&e.form.baseSettings.cardDesign},attrs:{data:e.value[i],mediaClass:e.mediaClass,mediaStyle:e.mediaStyle},on:{onInit:function(t){return e.$emit("onInit",t)}}})})),1)};s._withStripped=!0;var o=function(){var e=this._self._c;return this.data?e("img",{class:this.mediaClass,style:this.mediaStyle,attrs:{src:this.data}}):this._e()};o._withStripped=!0;var n={name:"Urlmage",props:["data","mediaClass","mediaStyle"],mounted:function(){this.$emit("onInit",{type:"image",setShowColorPicker:!1})}},r=i("KHd+"),a=Object(r.a)(n,o,[],!1,null,null,null).exports,u=function(){var e=this._self._c;return this.data?e("img",{class:this.mediaClass,style:this.mediaStyle,attrs:{src:this.iconUrl}}):this._e()};u._withStripped=!0;var l=i("NRfZ"),d={name:"NounProjectImage",props:["data","mediaClass","mediaStyle"],mounted:function(){this.$emit("onInit",{type:"icon",setShowColorPicker:!0})},computed:{iconUrl:function(){return"".concat(l.a.fileApi,"/icon/thenounproject/getbyid/").concat(this.data.id)}}},c=Object(r.a)(d,u,[],!1,null,null,null).exports,h=function(){var e=this._self._c;return this.data?e("img",{class:this.mediaClass,style:this.mediaStyle,attrs:{src:this.iconUrl}}):this._e()};h._withStripped=!0;var m={name:"FontawesomeImage",props:["data","mediaClass","mediaStyle"],mounted:function(){this.$emit("onInit",{type:"icon",setShowColorPicker:!0})},computed:{iconUrl:function(){return"".concat(l.a.fileApi,"/icon/fontawesome/getbyid/").concat(this.data.id,"/").concat(this.data.style,"/").concat(this.data.version)}}},f={nounProject:c,url:a,fontawesome:Object(r.a)(m,h,[],!1,null,null,null).exports},p={name:"MediaImage",components:f,props:["value","mediaClass","mediaStyle","form"],computed:{providers:function(){for(var e=[],t=Object.keys(this.value),i=0;i<t.length;i++){var s=t[i];Object.keys(f).indexOf(s)>-1&&e.push(s)}return e}}},v=Object(r.a)(p,s,[],!1,null,null,null);t.a=v.exports},IPac:function(e,t,i){var s=i("LboF"),o=i("3DzQ");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};s(o,n);e.exports=o.locals||{}},Pn5k:function(e,t,i){"use strict";i("4mDm"),i("5s+n"),i("3bBZ"),i("rB9j"),i("UxlC"),i("4l63"),i("yq1k"),i("JTJg");var s=i("NRfZ"),o=i("3IDC"),n=i("bKjL"),r=i("mckT"),a=i("K/kh").a.getAllQuestionTypes();t.a={name:"QuestionMixin",components:{FormHeader:r.a},props:{questionModel:{type:Object,default:()=>{}},form:Object,answerMap:Object,index:Number,activeComponentIndex:Number,hideQuestionNumber:Boolean,transparent:Boolean},data:function(){return{excludeQuestionInfo:{wysiwyg:!0,seperator:!0,imagecontent:!0,termsandconditions:!0,hexToCSSFilter:null,pagebreak:!0},isMediaImageTypeIcon:!1}},beforeCreate:function(){i.e(57).then(i.t.bind(null,"j+2b",7)).then(e=>{this.excludeQuestionInfo.hexToCSSFilter=e.hexToCSSFilter})},methods:{onMediaImageInit:function(e){this.isMediaImageTypeIcon=!!e&&"icon"===e.type},getEmbedVideo:function(e){var t,i,s="",o="";return e.indexOf("youtube.com")>-1&&(-1!==(s=(o=e.split("v=")[1]).indexOf("&"))&&(o=o.substring(0,s)),t="https://www.youtube.com/embed/"+o+"?playlist=".concat(o)+"&rel=0&version=3&enablejsapi=1&playerapiid=ytplayer&iv_load_policy=3"),e.indexOf("youtu.be")>-1&&(-1!==(s=(o=e.split("/")[3]).indexOf("&"))&&(o=o.substring(0,s)),t="https://www.youtube.com/embed/"+o+"?playlist=".concat(o)+"&rel=0&version=3&enablejsapi=1&playerapiid=ytplayer&iv_load_policy=3"),e.indexOf("//vimeo.com")>-1&&(-1!==(s=(o=e.split("m/")[1]).indexOf("&"))&&(o=o.substring(0,s)),t="https://player.vimeo.com/video/"+o),t?null!==(i=this.questionModel.media)&&void 0!==i&&i.autoPlay?t+"&controls=0&loop=1&mute=1&muted=1&disablekb=1":t:e},hexToRgb:function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,i,s){return t+t+i+i+s+s}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}},computed:{classes:function(){var e,t;return{required:this.questionModel.isRequired,transparent:this.transparent,"big-question-media-cover":this.hasQuestionMedia&&this.isCardDesign&&this.questionModel.media.cssClass&&this.questionModel.media.cssClass.includes("media-cover"),[null===(e=this.questionModel.media)||void 0===e?void 0:e.cssClass]:null===(t=this.questionModel.media)||void 0===t?void 0:t.cssClass,"media-img":this.questionModel.media,"step-view":this.form.baseSettings.cardDesign,autoplay:this.questionModel.media&&this.questionModel.media.autoPlay}},mediaSizePx:function(){var e=this.questionModel.media?this.questionModel.media.size:null;return o.a.percentToPx(e)},mediaImage:function(){var e={};return this.questionModel.media?this.questionModel.media.fileId&&this.form.formTempFiles&&this.form.formTempFiles[this.questionModel.media.fileId]?(e.url=s.a.fileApi+"/tempfile/"+this.form._id+"/"+this.questionModel.media.fileId,e):this.questionModel.media.fileId?(e.url=s.a.fileApi+"/formfile/"+this.form._id+"/"+this.questionModel.media.fileId,e):this.questionModel.media.imageUrl?(e.url=n.a.checkAndFixUrl(this.questionModel.media.imageUrl,"questionmedia",this.questionModel.media.cssClass),e):this.questionModel.media.videoUrl?null:this.questionModel.media.iconUrl?(e.url=this.questionModel.media.iconUrl,e):this.questionModel.media:null},hasQuestionMedia:function(){var e=a[this.questionType];return(!e||!e.disableQuestionMedia)&&(!(!this.questionModel.media||!(this.mediaImage||this.questionModel.media.iconId||this.questionModel.media.videoUrl))||void 0)},mediaStyle:function(){var e="";if(!this.form.baseSettings.cardDesign||!this.questionModel.media.cssClass||this.questionModel.media.cssClass&&!this.questionModel.media.cssClass.includes("media-cover")){var t=this.questionModel.media?this.questionModel.media.size:null;e+="max-width:"+o.a.percentToPx(t)+"px; width: 100%;"}if(this.questionModel.media.iconColor&&this.excludeQuestionInfo.hexToCSSFilter)e+="filter:"+this.excludeQuestionInfo.hexToCSSFilter(this.questionModel.media.iconColor).filter;else if(this.questionModel.media.brightness){e+="filter: contrast("+(100-(this.questionModel.media.brightness-100))+"%) brightness("+this.questionModel.media.brightness+"%);"}return e},mediaImageClass:function(){var e;return!this.isMediaImageTypeIcon||null!==(e=this.questionModel.media)&&void 0!==e&&e.iconColor?"":"default-icon"},isCardDesign:function(){return this.form&&this.form.baseSettings&&this.form.baseSettings.cardDesign},onFormDesign:function(){return"FormDesign"===this.$root.onSubPage},questionType:function(){var e=this.questionModel.questionType;return(this.questionModel[e]||{}).subType||e}}}},d3AS:function(e,t,i){},ezhA:function(e,t,i){"use strict";i("4Brf");var s=function(){var e=this,t=e._self._c;return e.questionModel&&Object.keys(e.questionModel).length>0?t("div",{ref:"question",staticClass:"question",class:e.classes,on:{click:function(t){return e.$emit("click",t)}}},[t("div",{staticClass:"question-card-scroll",class:{"form-design":e.onFormDesign,"first-question":0===e.questionModel.displayOrder&&e.isCardDesign,"first-question-column":!e.isMediaInside}},[t("div",{staticClass:"question-card-wrapper"},[t("div",{staticClass:"question-card"},[e.hasQuestionMedia&&e.isMediaInside?t("div",{staticClass:"question-media-wrapper",class:e.questionModel.media.cssClass?e.questionModel.media.cssClass:""},[t("QuestionMediaView",{attrs:{form:e.form,questionModel:e.questionModel,hideQuestionNumber:e.hideQuestionNumber}})],1):e._e(),e._v(" "),t("div",{staticClass:"question-text-wrapper"},[0===e.questionModel.displayOrder&&e.isCardDesign?t("FormHeader",{attrs:{formModel:e.form}}):e._e(),e._v(" "),t("div",{staticClass:"align-column"},[e.hasQuestionMedia&&!e.isMediaInside?t("QuestionMediaView",{attrs:{form:e.form,questionModel:e.questionModel,hideQuestionNumber:e.hideQuestionNumber}}):e._e(),e._v(" "),t("div",{staticClass:"question-info"},[e.excludeQuestionInfo[e.questionModel.questionType]?e._e():[e.questionModel.viewHelpers&&!0!==e.hideQuestionNumber?t("span",{staticClass:"question-order",class:{"not-digit":e.questionModel.viewHelpers.questionNumber>9}},[e._v(e._s(e.questionModel.viewHelpers.questionNumber)+".")]):e._e(),e._v(" "),t("div",{staticClass:"question-title-wrapper"},[t("div",{staticClass:"question-title"},[t("p",{ref:"questionInput",staticClass:"editable-input view",domProps:{innerHTML:e._s(e.questionTitle)}})]),e._v(" "),e.questionModel.description?t("p",{staticClass:"question-description editable-input view",attrs:{placeholder:e.$t("description")}},[e._v("\n\t\t\t\t\t\t\t\t\t\t"+e._s(e.questionModel.description)+"\n\t\t\t\t\t\t\t\t\t")]):e._e()])]],2),e._v(" "),e._t("default")],2),e._v(" "),0===e.questionModel.displayOrder&&e.isCardDesign?t("div"):e._e()],1)])])])]):e._e()};s._withStripped=!0;i("yq1k"),i("JTJg");var o=i("Pn5k"),n=i("qe/e"),r=i("RuLz"),a=function(){var e,t=this,i=t._self._c;return i("div",{staticClass:"question-media",class:t.mediaClasses,style:{"padding-right":t.hideQuestionNumber&&"0px"}},[t.mediaImage?i("MediaImage",{staticClass:"media-img-wrapper question-media-content",class:t.mediaImageClass,attrs:{form:t.form,value:t.mediaImage,mediaClass:"question-media-content",mediaStyle:t.mediaStyle},on:{onInit:t.onMediaImageInit}}):t.hasVideoTag?i("video",{key:t.index,ref:"video",staticClass:"question-media-video",style:t.mediaStyle,attrs:{loop:"",playsinline:"",muted:"",poster:t.questionModel.media.videoThumbnail,preload:"auto",controls:!t.isCardDesign,autoplay:t.questionModel.media.autoPlay,frameborder:"0"},domProps:{muted:!0}},[i("source",{attrs:{src:t.getEmbedVideo(null===(e=t.questionModel.media)||void 0===e?void 0:e.videoUrl),type:"video/mp4"}})]):t.questionModel.media?i("iframe",{ref:"video",staticClass:"question-media-video",style:"max-width:"+t.mediaSizePx+"px",attrs:{src:t.autoPlayFirstMedia?t.getEmbedVideo(t.questionModel.media.videoUrl)+"&autoplay=1":t.getEmbedVideo(t.questionModel.media.videoUrl),height:"500",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},on:{load:t.playVideo}}):t._e()],1)};a._withStripped=!0;var u=i("DEiG"),l={name:"QuestionMediaView",mixins:[o.a],components:{MediaImage:u.a},methods:{playVideo:function(){this.autoPlayFirstMedia&&document.getElementsByClassName("question-media-video")[0].contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}},computed:{hasVideoTag:function(){var e,t;return null===(e=this.questionModel.media)||void 0===e||null===(t=e.videoUrl)||void 0===t?void 0:t.includes("external")},mediaClasses:function(){var e,t,i=null===(e=this.questionModel.media)||void 0===e?void 0:e.align;return null!==(t=this.questionModel.media)&&void 0!==t&&t.videoUrl&&!this.hasVideoTag&&(i+=" iframe"),i},autoPlayFirstMedia:function(){var e;return 0===this.questionModel.displayOrder&&!this.mediaImage&&(null===(e=this.questionModel.media)||void 0===e?void 0:e.autoPlay)&&this.isCardDesign}}},d=(i("9u+E"),i("KHd+")),c=Object(d.a)(l,a,[],!1,null,"129da28b",null).exports,h={name:"QuestionView",mixins:[o.a],components:{QuestionMediaView:c},data:function(){return{recallTargetQuestionIds:[]}},mounted:function(){this.recallTargetQuestionIds=n.a.findRecallIds(this.title)},computed:{title:function(){return r.b.bbcodeToHtml(this.questionModel.question)},questionTitle:function(){return n.a.fixRecallQuestionTitle(this.title,this.form.questions,this.recallTargetQuestionIds,this.answerMap||{})},isMediaInside:function(){var e,t,i,s,o,n;return((null===(e=this.questionModel.media)||void 0===e||null===(t=e.cssClass)||void 0===t?void 0:t.includes("left"))||(null===(i=this.questionModel.media)||void 0===i||null===(s=i.cssClass)||void 0===s?void 0:s.includes("right")))&&!this.$root.isMobile||(null===(o=this.questionModel.media)||void 0===o||null===(n=o.cssClass)||void 0===n?void 0:n.includes("background"))}}},m=(i("AE+C"),Object(d.a)(h,s,[],!1,null,"11ba321c",null));t.a=m.exports},mckT:function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-header-wrapper",class:{"form-design":e.onFormDesign}},[t("div",{staticClass:"form-title view"},[e.formModel.baseSettings&&!e.formModel.baseSettings.hideFormTitle?t("h1",{staticClass:"form-title break-word"},[e._v(e._s(e.formModel.title))]):e._e()]),e._v(" "),e.$auth.isAuthenticated()&&e.formUrl?t("a",{staticClass:"title-dropdown"},[t("i-icon",{attrs:{icon:"ellipsis-v"}}),e._v(" "),t("i-dropdown",{staticClass:"title-dropdown-content",attrs:{activator:".title-dropdown"}},[t("li",[t("a",{on:{click:e.importForm}},[t("i-icon",{attrs:{icon:"file-import"}}),e._v(" "),t("span",[e._v(e._s(e.$t("importForm")))])],1)])])],1):e._e()])};s._withStripped=!0;var o=i("lSNA"),n=i.n(o),r=i("yXPU"),a=i.n(r),u=i("Mj6V"),l=i.n(u),d=i("OZsM");function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}var h,m={name:"FormHeader",props:{formModel:Object},beforeDestroy:function(){this.sidebars&&(this.sidebars.design.isOpen=!1)},methods:{importForm:(h=a()((function*(){if(this.$auth.isAuthenticated()&&this.formUrl){l.a.start(),document.body.classList.add("route-loading");var e=yield this.createImportTemplate(),t=yield d.a.importForm(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){n()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e),"import","afterlogin");this.logic(t)}})),function(){return h.apply(this,arguments)}),createImportTemplate:function(){var e=this.formModel;return delete e.quotasSettings,delete e.validationRules,delete e.afterSubmissionSettings,delete e.unpublishDateSettings,delete e.publishDateSettings,delete e.createDate,delete e.reportState,e.url=this.formUrl,e},logic:function(e){if(document.body.classList.remove("route-loading"),l.a.done(),this.$auth.isAuthenticated()){if(403===e.status&&"banned"===e.data)return this.$root.logout();e=e.data}e&&Object.keys(e).length>0?(this.$swal({title:this.$t("popups.formImportSuccess.title"),text:this.$t("popups.formImportSuccess.text"),type:"succes"}),this.$root.setQuotaUsage(1,"formCount")):this.$root.upgradePopup("formCreate")}},computed:{formUrl:function(){return this.$route.params.formUrl},isFormDesign:function(){return"FormDesign"===this.$route.name},onFormDesign:function(){return"FormDesign"===this.$root.onSubPage}}},f=(i("5tLk"),i("KHd+")),p=Object(f.a)(m,s,[],!1,null,"048f29a6",null);t.a=p.exports},pSvH:function(e,t,i){var s=i("LboF"),o=i("reur");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};s(o,n);e.exports=o.locals||{}},reur:function(e,t,i){}}]);